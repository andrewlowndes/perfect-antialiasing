(()=>{"use strict";var e={354:(e,x,t)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.quadraticBezierToPoints=void 0;const y=t(345),a=t(669);x.quadraticBezierToPoints=(e,x)=>{const t=[{x:e.p1.x,y:e.p1.y},{x:e.p3.x,y:e.p3.y}],o=(e,p,r,n)=>{const i=y.lerp(p,r,.5),l=a.lerp2(a.lerp2(e.p1,e.p2,i),a.lerp2(e.p2,e.p3,i),i),s=t[n-1],c=t[n];t.splice(n,0,l),a.dot(a.normalize(a.sub(s,l)),a.normalize(a.sub(c,l)))>x&&(o(e,i,r,n+1),o(e,p,i,n))};return o(e,0,1,1),t}},345:(e,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.lerp=x.timeAtPos=x.clamp=x.fract=x.negFract=x.EPSILON=void 0,x.EPSILON=1e-6,x.negFract=e=>1-e+Math.floor(e),x.fract=e=>e-Math.floor(e),x.clamp=(e,x,t)=>Math.max(Math.min(e,t),x),x.timeAtPos=(e,t,y)=>t?x.clamp((y-e)/t,0,1):0,x.lerp=(e,x,t)=>e*(1-t)+x*t},669:(e,x,t)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.inRange=x.avg=x.max2=x.min2=x.toPrecision2=x.lerp2=x.normalize=x.length=x.equal=x.dot=x.sign=x.abs=x.ceil=x.floor=x.sub=x.adds=x.add=x.divide=x.multiply=x.scale=x.equals=x.determinant2=x.clamp2=void 0;const y=t(345);x.clamp2=(e,x,t)=>({x:y.clamp(e.x,x.x,t.x),y:y.clamp(e.y,x.y,t.y)}),x.determinant2=(e,x)=>e.x*x.y-e.y*x.x,x.equals=(e,x)=>e.x===x.x&&e.y===x.y,x.scale=(e,x)=>({x:x*e.x,y:x*e.y}),x.multiply=(e,x)=>({x:x.x*e.x,y:x.y*e.y}),x.divide=(e,x)=>({x:e.x/x.x,y:e.y/x.y}),x.add=(e,x)=>({x:e.x+x.x,y:e.y+x.y}),x.adds=(e,x)=>({x:e.x+x,y:e.y+x}),x.sub=(e,x)=>({x:e.x-x.x,y:e.y-x.y}),x.floor=e=>({x:Math.floor(e.x),y:Math.floor(e.y)}),x.ceil=e=>({x:Math.ceil(e.x),y:Math.ceil(e.y)}),x.abs=e=>({x:Math.abs(e.x),y:Math.abs(e.y)}),x.sign=e=>({x:Math.sign(e.x),y:Math.sign(e.y)}),x.dot=(e,x)=>e.x*x.x+e.y*x.y,x.equal=(e,x)=>e.x==x.x&&e.y==x.y,x.length=e=>Math.sqrt(e.x*e.x+e.y*e.y),x.normalize=e=>x.scale(e,1/x.length(e)),x.lerp2=(e,x,t)=>({x:y.lerp(e.x,x.x,t),y:y.lerp(e.y,x.y,t)}),x.toPrecision2=(e,x)=>(e.x=parseFloat(e.x.toPrecision(x)),e.y=parseFloat(e.y.toPrecision(x)),e),x.min2=(e,...x)=>{const t={x:e.x,y:e.y};return x.forEach((e=>{t.x=Math.min(t.x,e.x),t.y=Math.min(t.y,e.y)})),t},x.max2=(e,...x)=>{const t={x:e.x,y:e.y};return x.forEach((e=>{t.x=Math.max(t.x,e.x),t.y=Math.max(t.y,e.y)})),t},x.avg=e=>{const x=e.reduce(((e,x)=>(e.x+=x.x,e.y+=x.y,e)),{x:0,y:0});return x.x/=e.length,x.y/=e.length,x},x.inRange=(e,x,t)=>!(e.x>t.x||e.x<x.x||e.y>t.y||e.y<x.y)},717:(e,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.plotLines=void 0,x.plotLines=(e,x)=>{const t=x[0];e.moveTo(t.x,e.canvas.height-t.y);for(let t=0;t<x.length;t++){const y=x[t];e.lineTo(y.x,e.canvas.height-y.y)}}}},x={};function t(y){var a=x[y];if(void 0!==a)return a.exports;var o=x[y]={exports:{}};return e[y](o,o.exports,t),o.exports}(()=>{const e=t(354),x=t(717),y=document.getElementById("game"),a=y.getContext("2d");if(!a)throw new Error("Could not get canvas graphics :(");const o=[{p1:{x:10,y:10},p2:{x:10,y:100},p3:{x:100,y:10}},{p1:{x:110,y:10},p2:{x:200,y:100},p3:{x:200,y:10}},{p1:{x:210,y:10},p2:{x:260,y:100},p3:{x:300,y:10}},{p1:{x:310,y:10},p2:{x:360,y:50},p3:{x:400,y:10}},{p1:{x:450,y:10},p2:{x:410,y:100},p3:{x:460,y:10}},{p1:{x:550,y:10},p2:{x:600,y:100},p3:{x:560,y:10}},{p1:{x:610,y:10},p2:{x:650,y:10},p3:{x:700,y:10}},{p1:{x:10,y:200},p2:{x:10,y:110},p3:{x:100,y:200}},{p1:{x:110,y:200},p2:{x:200,y:110},p3:{x:200,y:200}},{p1:{x:210,y:200},p2:{x:260,y:110},p3:{x:300,y:200}},{p1:{x:310,y:200},p2:{x:360,y:150},p3:{x:400,y:200}},{p1:{x:450,y:200},p2:{x:410,y:110},p3:{x:460,y:200}},{p1:{x:550,y:200},p2:{x:600,y:110},p3:{x:560,y:200}},{p1:{x:610,y:110},p2:{x:650,y:110},p3:{x:700,y:110}}];requestAnimationFrame((()=>{a.clearRect(0,0,y.width,y.height);for(let t of o){a.setLineDash([1,2]),a.strokeStyle="blue",a.beginPath(),x.plotLines(a,[t.p1,t.p2,t.p3]),a.stroke();const y=e.quadraticBezierToPoints(t,-.99);a.setLineDash([]),a.strokeStyle="green",a.beginPath(),x.plotLines(a,y),a.stroke()}}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvZ2VvbWV0cnkvcXVhZHJhdGljQmV6aWVyVG9Qb2ludHMudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL21hdGhzL2NvbW1vbi50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvbWF0aHMvcG9pbnQudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL3JlbmRlci9wbG90TGluZXMudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N1YnBpeGVsLXJlbmRlcmluZy8uL3NyYy9kZW1vcy9xdWFkcmF0aWNCZXppZXJTaW1wbGlmaWNhdGlvbi50cyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInF1YWRyYXRpY0JlemllclRvUG9pbnRzIiwiY29tbW9uXzEiLCJwb2ludF8xIiwiYmV6aWVyIiwic3BsaXRCb3VuZGFyeSIsInBvaW50cyIsIngiLCJwMSIsInkiLCJwMyIsInF1YWRyYXRpY0JlemllclNwbGl0IiwibWluIiwibWF4IiwiaW5zZXJ0SW5kZXgiLCJ0aW1lIiwibGVycCIsInBvaW50T25DdXJ2ZSIsImxlcnAyIiwicDIiLCJwcmV2UG9pbnQiLCJuZXh0UG9pbnQiLCJzcGxpY2UiLCJkb3QiLCJub3JtYWxpemUiLCJzdWIiLCJ0aW1lQXRQb3MiLCJjbGFtcCIsImZyYWN0IiwibmVnRnJhY3QiLCJFUFNJTE9OIiwiTWF0aCIsImZsb29yIiwiYSIsInN0YXJ0UG9zIiwiZGlyIiwibmV3UG9zIiwiYiIsInQiLCJpblJhbmdlIiwiYXZnIiwibWF4MiIsIm1pbjIiLCJ0b1ByZWNpc2lvbjIiLCJsZW5ndGgiLCJlcXVhbCIsInNpZ24iLCJhYnMiLCJjZWlsIiwiYWRkcyIsImFkZCIsImRpdmlkZSIsIm11bHRpcGx5Iiwic2NhbGUiLCJlcXVhbHMiLCJkZXRlcm1pbmFudDIiLCJjbGFtcDIiLCJzcXJ0IiwiYW1vdW50IiwicGFyc2VGbG9hdCIsInRvUHJlY2lzaW9uIiwib2JqIiwib2JqcyIsInJlc3VsdCIsImZvckVhY2giLCJhcnIiLCJzdW0iLCJyZWR1Y2UiLCJhY2MiLCJpdGVtIiwicGxvdExpbmVzIiwiZyIsImZpcnN0UG9pbnQiLCJtb3ZlVG8iLCJjYW52YXMiLCJoZWlnaHQiLCJpIiwicG9pbnQiLCJsaW5lVG8iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicXVhZHJhdGljQmV6aWVyVG9Qb2ludHNfMSIsInBsb3RMaW5lc18xIiwiZ2FtZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0IiwiRXJyb3IiLCJiZXppZXJzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJSZWN0Iiwid2lkdGgiLCJzZXRMaW5lRGFzaCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic3Ryb2tlIiwiYmV6aWVyTGluZXMiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdERELEVBQVFFLDZCQUEwQixFQUNsQyxNQUFNQyxFQUFXLEVBQVEsS0FDbkJDLEVBQVUsRUFBUSxLQW9CeEJKLEVBQVFFLHdCQW5Cd0IsQ0FBQ0csRUFBUUMsS0FDckMsTUFBTUMsRUFBUyxDQUNYLENBQUVDLEVBQUdILEVBQU9JLEdBQUdELEVBQUdFLEVBQUdMLEVBQU9JLEdBQUdDLEdBQy9CLENBQUVGLEVBQUdILEVBQU9NLEdBQUdILEVBQUdFLEVBQUdMLEVBQU9NLEdBQUdELElBRTdCRSxFQUF1QixDQUFDUCxFQUFRUSxFQUFLQyxFQUFLQyxLQUM1QyxNQUFNQyxFQUFPYixFQUFTYyxLQUFLSixF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QixVQUFVQyxFQUFHLENBQUNuRSxFQUFPSSxHQUFJSixFQUFPZSxHQUFJZixFQUFPTSxLQUN2RDZELEVBQUU2QixTQVVGLE1BQU1DLEVBQWNmLEVBQTBCckYsd0JBQXdCRyxHQW5CeEQsS0FvQmRtRSxFQUFFMEIsWUFBWSxJQUNkMUIsRUFBRTJCLFlBQWMsUUFDaEIzQixFQUFFNEIsWUFDRlosRUFBWWpCLFVBQVVDLEVBQUc4QixHQUN6QjlCLEVBQUU2QixjIiwiZmlsZSI6InF1YWRyYXRpY19iZXppZXJfc2ltcGxpZmljYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnF1YWRyYXRpY0JlemllclRvUG9pbnRzID0gdm9pZCAwO1xyXG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9tYXRocy9jb21tb25cIik7XHJcbmNvbnN0IHBvaW50XzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvcG9pbnRcIik7XHJcbmNvbnN0IHF1YWRyYXRpY0JlemllclRvUG9pbnRzID0gKGJlemllciwgc3BsaXRCb3VuZGFyeSkgPT4ge1xyXG4gICAgY29uc3QgcG9pbnRzID0gW1xyXG4gICAgICAgIHsgeDogYmV6aWVyLnAxLngsIHk6IGJlemllci5wMS55IH0sXHJcbiAgICAgICAgeyB4OiBiZXppZXIucDMueCwgeTogYmV6aWVyLnAzLnkgfVxyXG4gICAgXTtcclxuICAgIGNvbnN0IHF1YWRyYXRpY0JlemllclNwbGl0ID0gKGJlemllciwgbWluLCBtYXgsIGluc2VydEluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IGNvbW1vbl8xLmxlcnAobWluLCBtYXgsIDAuNSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRPbkN1cnZlID0gcG9pbnRfMS5sZXJwMihwb2ludF8xLmxlcnAyKGJlemllci5wMSwgYmV6aWVyLnAyLCB0aW1lKSwgcG9pbnRfMS5sZXJwMihiZXppZXIucDIsIGJlemllci5wMywgdGltZSksIHRpbWUpO1xyXG4gICAgICAgIGNvbnN0IHByZXZQb2ludCA9IHBvaW50c1tpbnNlcnRJbmRleCAtIDFdO1xyXG4gICAgICAgIGNvbnN0IG5leHRQb2ludCA9IHBvaW50c1tpbnNlcnRJbmRleF07XHJcbiAgICAgICAgcG9pbnRzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgcG9pbnRPbkN1cnZlKTtcclxuICAgICAgICBpZiAocG9pbnRfMS5kb3QocG9pbnRfMS5ub3JtYWxpemUocG9pbnRfMS5zdWIocHJldlBvaW50LCBwb2ludE9uQ3VydmUpKSwgcG9pbnRfMS5ub3JtYWxpemUocG9pbnRfMS5zdWIobmV4dFBvaW50LCBwb2ludE9uQ3VydmUpKSkgPiBzcGxpdEJvdW5kYXJ5KSB7XHJcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllclNwbGl0KGJlemllciwgdGltZSwgbWF4LCBpbnNlcnRJbmRleCArIDEpO1xyXG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJTcGxpdChiZXppZXIsIG1pbiwgdGltZSwgaW5zZXJ0SW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBxdWFkcmF0aWNCZXppZXJTcGxpdChiZXppZXIsIDAsIDEsIDEpO1xyXG4gICAgcmV0dXJuIHBvaW50cztcclxufTtcclxuZXhwb3J0cy5xdWFkcmF0aWNCZXppZXJUb1BvaW50cyA9IHF1YWRyYXRpY0JlemllclRvUG9pbnRzO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmxlcnAgPSBleHBvcnRzLnRpbWVBdFBvcyA9IGV4cG9ydHMuY2xhbXAgPSBleHBvcnRzLmZyYWN0ID0gZXhwb3J0cy5uZWdGcmFjdCA9IGV4cG9ydHMuRVBTSUxPTiA9IHZvaWQgMDtcclxuZXhwb3J0cy5FUFNJTE9OID0gMC4wMDAwMDE7XHJcbmNvbnN0IG5lZ0ZyYWN0ID0gKHgpID0+IDEuMCAtIHggKyBNYXRoLmZsb29yKHgpO1xyXG5leHBvcnRzLm5lZ0ZyYWN0ID0gbmVnRnJhY3Q7XHJcbmNvbnN0IGZyYWN0ID0gKHgpID0+IHggLSBNYXRoLmZsb29yKHgpO1xyXG5leHBvcnRzLmZyYWN0ID0gZnJhY3Q7XHJcbmNvbnN0IGNsYW1wID0gKGEsIG1pbiwgbWF4KSA9PiBNYXRoLm1heChNYXRoLm1pbihhLCBtYXgpLCBtaW4pO1xyXG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XHJcbmNvbnN0IHRpbWVBdFBvcyA9IChzdGFydFBvcywgZGlyLCBuZXdQb3MpID0+IGRpciA/IGV4cG9ydHMuY2xhbXAoKG5ld1BvcyAtIHN0YXJ0UG9zKSAvIGRpciwgMCwgMSkgOiAwO1xyXG5leHBvcnRzLnRpbWVBdFBvcyA9IHRpbWVBdFBvcztcclxuY29uc3QgbGVycCA9IChhLCBiLCB0KSA9PiBhICogKDEgLSB0KSArIGIgKiB0O1xyXG5leHBvcnRzLmxlcnAgPSBsZXJwO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmluUmFuZ2UgPSBleHBvcnRzLmF2ZyA9IGV4cG9ydHMubWF4MiA9IGV4cG9ydHMubWluMiA9IGV4cG9ydHMudG9QcmVjaXNpb24yID0gZXhwb3J0cy5sZXJwMiA9IGV4cG9ydHMubm9ybWFsaXplID0gZXhwb3J0cy5sZW5ndGggPSBleHBvcnRzLmVxdWFsID0gZXhwb3J0cy5kb3QgPSBleHBvcnRzLnNpZ24gPSBleHBvcnRzLmFicyA9IGV4cG9ydHMuY2VpbCA9IGV4cG9ydHMuZmxvb3IgPSBleHBvcnRzLnN1YiA9IGV4cG9ydHMuYWRkcyA9IGV4cG9ydHMuYWRkID0gZXhwb3J0cy5kaXZpZGUgPSBleHBvcnRzLm11bHRpcGx5ID0gZXhwb3J0cy5zY2FsZSA9IGV4cG9ydHMuZXF1YWxzID0gZXhwb3J0cy5kZXRlcm1pbmFudDIgPSBleHBvcnRzLmNsYW1wMiA9IHZvaWQgMDtcclxuY29uc3QgY29tbW9uXzEgPSByZXF1aXJlKFwiLi9jb21tb25cIik7XHJcbmNvbnN0IGNsYW1wMiA9IChhLCBtaW4sIG1heCkgPT4gKHsgeDogY29tbW9uXzEuY2xhbXAoYS54LCBtaW4ueCwgbWF4LngpLCB5OiBjb21tb25fMS5jbGFtcChhLnksIG1pbi55LCBtYXgueSkgfSk7XHJcbmV4cG9ydHMuY2xhbXAyID0gY2xhbXAyO1xyXG5jb25zdCBkZXRlcm1pbmFudDIgPSAocDEsIHAyKSA9PiAocDEueCAqIHAyLnkpIC0gKHAxLnkgKiBwMi54KTtcclxuZXhwb3J0cy5kZXRlcm1pbmFudDIgPSBkZXRlcm1pbmFudDI7XHJcbmNvbnN0IGVxdWFscyA9IChhLCBiKSA9PiBhLnggPT09IGIueCAmJiBhLnkgPT09IGIueTtcclxuZXhwb3J0cy5lcXVhbHMgPSBlcXVhbHM7XHJcbmNvbnN0IHNjYWxlID0gKHAxLCBhKSA9PiAoeyB4OiBhICogcDEueCwgeTogYSAqIHAxLnkgfSk7XHJcbmV4cG9ydHMuc2NhbGUgPSBzY2FsZTtcclxuY29uc3QgbXVsdGlwbHkgPSAocDEsIHAyKSA9PiAoeyB4OiBwMi54ICogcDEueCwgeTogcDIueSAqIHAxLnkgfSk7XHJcbmV4cG9ydHMubXVsdGlwbHkgPSBtdWx0aXBseTtcclxuY29uc3QgZGl2aWRlID0gKHAxLCBwMikgPT4gKHsgeDogcDEueCAvIHAyLngsIHk6IHAxLnkgLyBwMi55IH0pO1xyXG5leHBvcnRzLmRpdmlkZSA9IGRpdmlkZTtcclxuY29uc3QgYWRkID0gKHAxLCBwMikgPT4gKHsgeDogcDEueCArIHAyLngsIHk6IHAxLnkgKyBwMi55IH0pO1xyXG5leHBvcnRzLmFkZCA9IGFkZDtcclxuY29uc3QgYWRkcyA9IChwMSwgYSkgPT4gKHsgeDogcDEueCArIGEsIHk6IHAxLnkgKyBhIH0pO1xyXG5leHBvcnRzLmFkZHMgPSBhZGRzO1xyXG5jb25zdCBzdWIgPSAocDEsIHAyKSA9PiAoeyB4OiBwMS54IC0gcDIueCwgeTogcDEueSAtIHAyLnkgfSk7XHJcbmV4cG9ydHMuc3ViID0gc3ViO1xyXG5jb25zdCBmbG9vciA9IChwMSkgPT4gKHsgeDogTWF0aC5mbG9vcihwMS54KSwgeTogTWF0aC5mbG9vcihwMS55KSB9KTtcclxuZXhwb3J0cy5mbG9vciA9IGZsb29yO1xyXG5jb25zdCBjZWlsID0gKHAxKSA9PiAoeyB4OiBNYXRoLmNlaWwocDEueCksIHk6IE1hdGguY2VpbChwMS55KSB9KTtcclxuZXhwb3J0cy5jZWlsID0gY2VpbDtcclxuY29uc3QgYWJzID0gKHAxKSA9PiAoeyB4OiBNYXRoLmFicyhwMS54KSwgeTogTWF0aC5hYnMocDEueSkgfSk7XHJcbmV4cG9ydHMuYWJzID0gYWJzO1xyXG5jb25zdCBzaWduID0gKHAxKSA9PiAoeyB4OiBNYXRoLnNpZ24ocDEueCksIHk6IE1hdGguc2lnbihwMS55KSB9KTtcclxuZXhwb3J0cy5zaWduID0gc2lnbjtcclxuY29uc3QgZG90ID0gKHAxLCBwMikgPT4gcDEueCAqIHAyLnggKyBwMS55ICogcDIueTtcclxuZXhwb3J0cy5kb3QgPSBkb3Q7XHJcbmNvbnN0IGVxdWFsID0gKHAxLCBwMikgPT4gcDEueCA9PSBwMi54ICYmIHAxLnkgPT0gcDIueTtcclxuZXhwb3J0cy5lcXVhbCA9IGVxdWFsO1xyXG5jb25zdCBsZW5ndGggPSAocDEpID0+IE1hdGguc3FydChwMS54ICogcDEueCArIHAxLnkgKiBwMS55KTtcclxuZXhwb3J0cy5sZW5ndGggPSBsZW5ndGg7XHJcbmNvbnN0IG5vcm1hbGl6ZSA9IChwMSkgPT4gZXhwb3J0cy5zY2FsZShwMSwgMSAvIGV4cG9ydHMubGVuZ3RoKHAxKSk7XHJcbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xyXG5jb25zdCBsZXJwMiA9IChhLCBiLCB0KSA9PiAoeyB4OiBjb21tb25fMS5sZXJwKGEueCwgYi54LCB0KSwgeTogY29tbW9uXzEubGVycChhLnksIGIueSwgdCkgfSk7XHJcbmV4cG9ydHMubGVycDIgPSBsZXJwMjtcclxuLy93YXJuaW5nOiBtdXRhdGVzIGFcclxuY29uc3QgdG9QcmVjaXNpb24yID0gKGEsIGFtb3VudCkgPT4ge1xyXG4gICAgYS54ID0gcGFyc2VGbG9hdChhLngudG9QcmVjaXNpb24oYW1vdW50KSk7XHJcbiAgICBhLnkgPSBwYXJzZUZsb2F0KGEueS50b1ByZWNpc2lvbihhbW91bnQpKTtcclxuICAgIHJldHVybiBhO1xyXG59O1xyXG5leHBvcnRzLnRvUHJlY2lzaW9uMiA9IHRvUHJlY2lzaW9uMjtcclxuY29uc3QgbWluMiA9IChvYmosIC4uLm9ianMpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICB4OiBvYmoueCxcclxuICAgICAgICB5OiBvYmoueVxyXG4gICAgfTtcclxuICAgIG9ianMuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LnggPSBNYXRoLm1pbihyZXN1bHQueCwgb2JqLngpO1xyXG4gICAgICAgIHJlc3VsdC55ID0gTWF0aC5taW4ocmVzdWx0LnksIG9iai55KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuZXhwb3J0cy5taW4yID0gbWluMjtcclxuY29uc3QgbWF4MiA9IChvYmosIC4uLm9ianMpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICB4OiBvYmoueCxcclxuICAgICAgICB5OiBvYmoueVxyXG4gICAgfTtcclxuICAgIG9ianMuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LnggPSBNYXRoLm1heChyZXN1bHQueCwgb2JqLngpO1xyXG4gICAgICAgIHJlc3VsdC55ID0gTWF0aC5tYXgocmVzdWx0LnksIG9iai55KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuZXhwb3J0cy5tYXgyID0gbWF4MjtcclxuY29uc3QgYXZnID0gKGFycikgPT4ge1xyXG4gICAgY29uc3Qgc3VtID0gYXJyLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgYWNjLnggKz0gaXRlbS54O1xyXG4gICAgICAgIGFjYy55ICs9IGl0ZW0ueTtcclxuICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwgeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgc3VtLnggLz0gYXJyLmxlbmd0aDtcclxuICAgIHN1bS55IC89IGFyci5sZW5ndGg7XHJcbiAgICByZXR1cm4gc3VtO1xyXG59O1xyXG5leHBvcnRzLmF2ZyA9IGF2ZztcclxuY29uc3QgaW5SYW5nZSA9IChwMSwgbWluLCBtYXgpID0+IHtcclxuICAgIHJldHVybiAhKHAxLnggPiBtYXgueCB8fCBwMS54IDwgbWluLnggfHwgcDEueSA+IG1heC55IHx8IHAxLnkgPCBtaW4ueSk7XHJcbn07XHJcbmV4cG9ydHMuaW5SYW5nZSA9IGluUmFuZ2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMucGxvdExpbmVzID0gdm9pZCAwO1xyXG5jb25zdCBwbG90TGluZXMgPSAoZywgcG9pbnRzKSA9PiB7XHJcbiAgICBjb25zdCBmaXJzdFBvaW50ID0gcG9pbnRzWzBdO1xyXG4gICAgZy5tb3ZlVG8oZmlyc3RQb2ludC54LCBnLmNhbnZhcy5oZWlnaHQgLSBmaXJzdFBvaW50LnkpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcclxuICAgICAgICBnLmxpbmVUbyhwb2ludC54LCBnLmNhbnZhcy5oZWlnaHQgLSBwb2ludC55KTtcclxuICAgIH1cclxufTtcclxuZXhwb3J0cy5wbG90TGluZXMgPSBwbG90TGluZXM7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBxdWFkcmF0aWNCZXppZXJUb1BvaW50c18xID0gcmVxdWlyZShcIi4uL2dlb21ldHJ5L3F1YWRyYXRpY0JlemllclRvUG9pbnRzXCIpO1xyXG5jb25zdCBwbG90TGluZXNfMSA9IHJlcXVpcmUoXCIuLi9yZW5kZXIvcGxvdExpbmVzXCIpO1xyXG5jb25zdCBnYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lXCIpO1xyXG5jb25zdCBnID0gZ2FtZS5nZXRDb250ZXh0KFwiMmRcIik7XHJcbmlmICghZykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZ2V0IGNhbnZhcyBncmFwaGljcyA6KCcpO1xyXG59XHJcbmNvbnN0IGJlemllcnMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgcDE6IHsgeDogMTAsIHk6IDEwIH0sXHJcbiAgICAgICAgcDI6IHsgeDogMTAsIHk6IDEwMCB9LFxyXG4gICAgICAgIHAzOiB7IHg6IDEwMCwgeTogMTAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiAxMTAsIHk6IDEwIH0sXHJcbiAgICAgICAgcDI6IHsgeDogMjAwLCB5OiAxMDAgfSxcclxuICAgICAgICBwMzogeyB4OiAyMDAsIHk6IDEwIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcDE6IHsgeDogMjEwLCB5OiAxMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDI2MCwgeTogMTAwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogMzAwLCB5OiAxMCB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHAxOiB7IHg6IDMxMCwgeTogMTAgfSxcclxuICAgICAgICBwMjogeyB4OiAzNjAsIHk6IDUwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogNDAwLCB5OiAxMCB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHAxOiB7IHg6IDQ1MCwgeTogMTAgfSxcclxuICAgICAgICBwMjogeyB4OiA0MTAsIHk6IDEwMCB9LFxyXG4gICAgICAgIHAzOiB7IHg6IDQ2MCwgeTogMTAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiA1NTAsIHk6IDEwIH0sXHJcbiAgICAgICAgcDI6IHsgeDogNjAwLCB5OiAxMDAgfSxcclxuICAgICAgICBwMzogeyB4OiA1NjAsIHk6IDEwIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcDE6IHsgeDogNjEwLCB5OiAxMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDY1MCwgeTogMTAgfSxcclxuICAgICAgICBwMzogeyB4OiA3MDAsIHk6IDEwIH1cclxuICAgIH0sXHJcbiAgICAvL1xyXG4gICAge1xyXG4gICAgICAgIHAxOiB7IHg6IDEwLCB5OiAyMDAgfSxcclxuICAgICAgICBwMjogeyB4OiAxMCwgeTogMTEwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogMTAwLCB5OiAyMDAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiAxMTAsIHk6IDIwMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDIwMCwgeTogMTEwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogMjAwLCB5OiAyMDAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiAyMTAsIHk6IDIwMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDI2MCwgeTogMTEwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogMzAwLCB5OiAyMDAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiAzMTAsIHk6IDIwMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDM2MCwgeTogMTUwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogNDAwLCB5OiAyMDAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiA0NTAsIHk6IDIwMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDQxMCwgeTogMTEwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogNDYwLCB5OiAyMDAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiA1NTAsIHk6IDIwMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDYwMCwgeTogMTEwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogNTYwLCB5OiAyMDAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBwMTogeyB4OiA2MTAsIHk6IDExMCB9LFxyXG4gICAgICAgIHAyOiB7IHg6IDY1MCwgeTogMTEwIH0sXHJcbiAgICAgICAgcDM6IHsgeDogNzAwLCB5OiAxMTAgfVxyXG4gICAgfSxcclxuXTtcclxuY29uc3Qgc3BsaXRCb3VuZGFyeSA9IC0wLjk5O1xyXG5jb25zdCBkcmF3ID0gKCkgPT4ge1xyXG4gICAgZy5jbGVhclJlY3QoMCwgMCwgZ2FtZS53aWR0aCwgZ2FtZS5oZWlnaHQpO1xyXG4gICAgZm9yIChsZXQgYmV6aWVyIG9mIGJlemllcnMpIHtcclxuICAgICAgICAvL2RyYXcgdGhlIGN1cnZlIHRyaWFuZ2xlXHJcbiAgICAgICAgZy5zZXRMaW5lRGFzaChbMSwgMl0pO1xyXG4gICAgICAgIGcuc3Ryb2tlU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHBsb3RMaW5lc18xLnBsb3RMaW5lcyhnLCBbYmV6aWVyLnAxLCBiZXppZXIucDIsIGJlemllci5wM10pO1xyXG4gICAgICAgIGcuc3Ryb2tlKCk7XHJcbiAgICAgICAgLy9kcmF3IG91ciByZWFsIGJlemllciBjdXJ2ZVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgZy5zdHJva2VTdHlsZSA9IFwicmVkXCI7XHJcbiAgICAgICAgZy5iZWdpblBhdGgoKTtcclxuICAgICAgICBnLm1vdmVUbyhiZXppZXIucDEueCwgZ2FtZS5oZWlnaHQgLSBiZXppZXIucDEueSk7XHJcbiAgICAgICAgZy5xdWFkcmF0aWNDdXJ2ZVRvKGJlemllci5wMi54LCBnYW1lLmhlaWdodCAtIGJlemllci5wMi55LCBiZXppZXIucDMueCwgZ2FtZS5oZWlnaHQgLSBiZXppZXIucDMueSk7XHJcbiAgICAgICAgZy5zdHJva2UoKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIC8vY3JlYXRlIGFuZCBkcmF3IHRoZSBuZXcgJ2N1cnZlJyB0aGF0IGNvbnNpc3RzIG9mIGxpbmVzXHJcbiAgICAgICAgY29uc3QgYmV6aWVyTGluZXMgPSBxdWFkcmF0aWNCZXppZXJUb1BvaW50c18xLnF1YWRyYXRpY0JlemllclRvUG9pbnRzKGJlemllciwgc3BsaXRCb3VuZGFyeSk7XHJcbiAgICAgICAgZy5zZXRMaW5lRGFzaChbXSk7XHJcbiAgICAgICAgZy5zdHJva2VTdHlsZSA9IFwiZ3JlZW5cIjtcclxuICAgICAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIHBsb3RMaW5lc18xLnBsb3RMaW5lcyhnLCBiZXppZXJMaW5lcyk7XHJcbiAgICAgICAgZy5zdHJva2UoKTtcclxuICAgIH1cclxufTtcclxucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9