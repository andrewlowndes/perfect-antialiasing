"use strict";(self.webpackChunksubpixel_rendering=self.webpackChunksubpixel_rendering||[]).push([[42],{747:(e,c,a)=>{const o=a(887),r=a(354),l=a(717),s=document.getElementById("game"),t=s.getContext("2d");if(!t)throw new Error("Could not get canvas graphics :(");const n=[{p1:o.vec2.fromValues(10,10),p2:o.vec2.fromValues(10,100),p3:o.vec2.fromValues(100,10)},{p1:o.vec2.fromValues(110,10),p2:o.vec2.fromValues(200,100),p3:o.vec2.fromValues(200,10)},{p1:o.vec2.fromValues(210,10),p2:o.vec2.fromValues(260,100),p3:o.vec2.fromValues(300,10)},{p1:o.vec2.fromValues(310,10),p2:o.vec2.fromValues(360,50),p3:o.vec2.fromValues(400,10)},{p1:o.vec2.fromValues(450,10),p2:o.vec2.fromValues(410,100),p3:o.vec2.fromValues(460,10)},{p1:o.vec2.fromValues(550,10),p2:o.vec2.fromValues(600,100),p3:o.vec2.fromValues(560,10)},{p1:o.vec2.fromValues(610,10),p2:o.vec2.fromValues(650,10),p3:o.vec2.fromValues(700,10)},{p1:o.vec2.fromValues(10,200),p2:o.vec2.fromValues(10,110),p3:o.vec2.fromValues(100,200)},{p1:o.vec2.fromValues(110,200),p2:o.vec2.fromValues(200,110),p3:o.vec2.fromValues(200,200)},{p1:o.vec2.fromValues(210,200),p2:o.vec2.fromValues(260,110),p3:o.vec2.fromValues(300,200)},{p1:o.vec2.fromValues(310,200),p2:o.vec2.fromValues(360,150),p3:o.vec2.fromValues(400,200)},{p1:o.vec2.fromValues(450,200),p2:o.vec2.fromValues(410,110),p3:o.vec2.fromValues(460,200)},{p1:o.vec2.fromValues(550,200),p2:o.vec2.fromValues(600,110),p3:o.vec2.fromValues(560,200)},{p1:o.vec2.fromValues(610,110),p2:o.vec2.fromValues(650,110),p3:o.vec2.fromValues(700,110)}];requestAnimationFrame((()=>{t.clearRect(0,0,s.width,s.height);for(const e of n){t.setLineDash([1,2]),t.strokeStyle="blue",t.beginPath(),(0,l.plotLines)(t,[e.p1,e.p2,e.p3]),t.stroke();const c=(0,r.quadraticBezierToPoints)(e,-.99);t.setLineDash([]),t.strokeStyle="green",t.beginPath(),(0,l.plotLines)(t,c),t.stroke()}}))},354:(e,c,a)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.quadraticBezierToPoints=void 0;const o=a(887),r=a(345),l=a(669);c.quadraticBezierToPoints=(e,c)=>{const a=[o.vec2.clone(e.p1),o.vec2.clone(e.p3)],s=(e,o,t,n)=>{const v=(0,r.lerp)(o,t,.5),p=(0,l.lerp2)((0,l.lerp2)(e.p1,e.p2,v),(0,l.lerp2)(e.p2,e.p3,v),v),i=a[n-1],u=a[n];a.splice(n,0,p),(0,l.dot)((0,l.normalize)((0,l.sub)(i,p)),(0,l.normalize)((0,l.sub)(u,p)))>c&&(s(e,v,t,n+1),s(e,o,v,n))};return s(e,0,1,1),a}},345:(e,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.lerp=c.timeAtPos=c.clamp=c.fract=c.negFract=c.EPSILON=void 0,c.EPSILON=1e-6,c.negFract=e=>1-e+Math.floor(e),c.fract=e=>e-Math.floor(e),c.clamp=(e,c,a)=>Math.max(Math.min(e,a),c),c.timeAtPos=(e,a,o)=>a?(0,c.clamp)((o-e)/a,0,1):0,c.lerp=(e,c,a)=>e*(1-a)+c*a},669:(e,c,a)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.inside=c.inRange=c.avg=c.max2=c.min2=c.toPrecision2=c.lerp2=c.normalize=c.length=c.dot=c.sign=c.abs=c.ceil=c.floor=c.sub=c.adds=c.add=c.divide=c.multiply=c.scale=c.equals=c.determinant2=c.clamp2=void 0;const o=a(887),r=a(345);c.clamp2=(e,c,a)=>{const r=o.vec2.clone(e);return o.vec2.min(r,r,a),o.vec2.max(r,r,c),r},c.determinant2=(e,c)=>e[0]*c[1]-e[1]*c[0],c.equals=o.vec2.equals,c.scale=(e,c)=>o.vec2.scale(o.vec2.create(),e,c),c.multiply=(e,c)=>o.vec2.multiply(o.vec2.create(),e,c),c.divide=(e,c)=>o.vec2.divide(o.vec2.create(),e,c),c.add=(e,c)=>o.vec2.add(o.vec2.create(),e,c),c.adds=(e,c)=>o.vec2.fromValues(e[0]+c,e[1]+c),c.sub=(e,c)=>o.vec2.sub(o.vec2.create(),e,c),c.floor=e=>o.vec2.floor(o.vec2.create(),e),c.ceil=e=>o.vec2.ceil(o.vec2.create(),e),c.abs=e=>o.vec2.fromValues(Math.abs(e[0]),Math.abs(e[1])),c.sign=e=>o.vec2.fromValues(Math.sign(e[0]),Math.sign(e[1])),c.dot=(e,c)=>o.vec2.dot(e,c),c.length=e=>o.vec2.length(e),c.normalize=e=>(0,c.scale)(e,1/(0,c.length)(e)),c.lerp2=(e,c,a)=>o.vec2.lerp(o.vec2.create(),e,c,a),c.toPrecision2=(e,c)=>(e[0]=parseFloat(e[0].toPrecision(c)),e[1]=parseFloat(e[1].toPrecision(c)),e),c.min2=(...e)=>{const[c,...a]=e,r=o.vec2.clone(c);return a.forEach((e=>{o.vec2.min(r,r,e)})),r},c.max2=(...e)=>{const[c,...a]=e,r=o.vec2.clone(c);return a.forEach((e=>{o.vec2.max(r,r,e)})),r},c.avg=(...e)=>{const c=o.vec2.create();return e.length&&(e.forEach((e=>{o.vec2.add(c,c,e)})),o.vec2.scale(c,c,1/e.length)),c},c.inRange=(e,c,a)=>!(e[0]>a[0]||e[0]<c[0]||e[1]>a[1]||e[1]<c[1]),c.inside=(e,c)=>{let a=0,o=e[e.length-1];return e.forEach((e=>{const l=o[1]<e[1]?o:e,s=o[1]<e[1]?e:o;l[1]<c[1]+r.EPSILON&&s[1]>c[1]+r.EPSILON&&(s[0]-l[0])*(c[1]-l[1])>(c[0]-l[0])*(s[1]-l[1])&&(a+=1),o=e})),a%2!=0}},717:(e,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.plotLines=void 0,c.plotLines=(e,c)=>{const a=c[0];e.moveTo(a[0],e.canvas.height-a[1]);for(let a=0;a<c.length;a++){const o=c[a];e.lineTo(o[0],e.canvas.height-o[1])}}}},e=>{e(e.s=747)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQ3RENUMsRUFBRyxHQUFLdUYsRUFBRyxLQUFPSixFQUFFLEdBQUtJLEVBQUcsS0FBT0osRUFBRSxHQUFLSSxFQUFHLEtBQU92RixFQUFHLEdBQUt1RixFQUFHLE1BQ2hFSCxHQUFTLEdBR2pCQyxFQUFNQyxDQUFJLElBRVBGLEVBQVEsR0FBTSxDQUFDLEMsY0MvRjFCbkUsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdERELEVBQVFOLGVBQVksRUFTcEJNLEVBQVFOLFVBUlUsQ0FBQ2pCLEVBQUc0QixLQUNsQixNQUFNZ0UsRUFBYWhFLEVBQU8sR0FDMUI1QixFQUFFNkYsT0FBT0QsRUFBVyxHQUFJNUYsRUFBRThGLE9BQU9sRixPQUFTZ0YsRUFBVyxJQUNyRCxJQUFLLElBQUlHLEVBQUksRUFBR0EsRUFBSW5FLEVBQU9vQyxPQUFRK0IsSUFBSyxDQUNwQyxNQUFNQyxFQUFRcEUsRUFBT21FLEdBQ3JCL0YsRUFBRWlHLE9BQU9ELEVBQU0sR0FBSWhHLEVBQUU4RixPQUFPbEYsT0FBU29GLEVBQU0sR0FDL0MsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1YnBpeGVsLXJlbmRlcmluZy8uL3NyYy9kZW1vcy9xdWFkcmF0aWNCZXppZXJTaW1wbGlmaWNhdGlvbi50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvZ2VvbWV0cnkvcXVhZHJhdGljQmV6aWVyVG9Qb2ludHMudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL21hdGhzL2NvbW1vbi50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvbWF0aHMvcG9pbnQudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL3JlbmRlci9wbG90TGluZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBnbF9tYXRyaXhfMSA9IHJlcXVpcmUoXCJnbC1tYXRyaXhcIik7XG5jb25zdCBxdWFkcmF0aWNCZXppZXJUb1BvaW50c18xID0gcmVxdWlyZShcIi4uL2dlb21ldHJ5L3F1YWRyYXRpY0JlemllclRvUG9pbnRzXCIpO1xuY29uc3QgcGxvdExpbmVzXzEgPSByZXF1aXJlKFwiLi4vcmVuZGVyL3Bsb3RMaW5lc1wiKTtcbmNvbnN0IGdhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZScpO1xuY29uc3QgZyA9IGdhbWUuZ2V0Q29udGV4dCgnMmQnKTtcbmlmICghZykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGdldCBjYW52YXMgZ3JhcGhpY3MgOignKTtcbn1cbmNvbnN0IGJlemllcnMgPSBbXG4gICAge1xuICAgICAgICBwMTogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDEwLCAxMCksXG4gICAgICAgIHAyOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMTAsIDEwMCksXG4gICAgICAgIHAzOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMTAwLCAxMClcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcDE6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygxMTAsIDEwKSxcbiAgICAgICAgcDI6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygyMDAsIDEwMCksXG4gICAgICAgIHAzOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMjAwLCAxMClcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcDE6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygyMTAsIDEwKSxcbiAgICAgICAgcDI6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygyNjAsIDEwMCksXG4gICAgICAgIHAzOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMzAwLCAxMClcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcDE6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygzMTAsIDEwKSxcbiAgICAgICAgcDI6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygzNjAsIDUwKSxcbiAgICAgICAgcDM6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg0MDAsIDEwKVxuICAgIH0sXG4gICAge1xuICAgICAgICBwMTogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDQ1MCwgMTApLFxuICAgICAgICBwMjogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDQxMCwgMTAwKSxcbiAgICAgICAgcDM6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg0NjAsIDEwKVxuICAgIH0sXG4gICAge1xuICAgICAgICBwMTogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDU1MCwgMTApLFxuICAgICAgICBwMjogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDYwMCwgMTAwKSxcbiAgICAgICAgcDM6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg1NjAsIDEwKVxuICAgIH0sXG4gICAge1xuICAgICAgICBwMTogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDYxMCwgMTApLFxuICAgICAgICBwMjogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDY1MCwgMTApLFxuICAgICAgICBwMzogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDcwMCwgMTApXG4gICAgfSxcbiAgICAvL1xuICAgIHtcbiAgICAgICAgcDE6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygxMCwgMjAwKSxcbiAgICAgICAgcDI6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygxMCwgMTEwKSxcbiAgICAgICAgcDM6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygxMDAsIDIwMClcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcDE6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygxMTAsIDIwMCksXG4gICAgICAgIHAyOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMjAwLCAxMTApLFxuICAgICAgICBwMzogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDIwMCwgMjAwKVxuICAgIH0sXG4gICAge1xuICAgICAgICBwMTogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDIxMCwgMjAwKSxcbiAgICAgICAgcDI6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcygyNjAsIDExMCksXG4gICAgICAgIHAzOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMzAwLCAyMDApXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHAxOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMzEwLCAyMDApLFxuICAgICAgICBwMjogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDM2MCwgMTUwKSxcbiAgICAgICAgcDM6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg0MDAsIDIwMClcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcDE6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg0NTAsIDIwMCksXG4gICAgICAgIHAyOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoNDEwLCAxMTApLFxuICAgICAgICBwMzogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDQ2MCwgMjAwKVxuICAgIH0sXG4gICAge1xuICAgICAgICBwMTogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDU1MCwgMjAwKSxcbiAgICAgICAgcDI6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg2MDAsIDExMCksXG4gICAgICAgIHAzOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoNTYwLCAyMDApXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHAxOiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoNjEwLCAxMTApLFxuICAgICAgICBwMjogZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDY1MCwgMTEwKSxcbiAgICAgICAgcDM6IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg3MDAsIDExMClcbiAgICB9XG5dO1xuY29uc3Qgc3BsaXRCb3VuZGFyeSA9IC0wLjk5O1xuY29uc3QgZHJhdyA9ICgpID0+IHtcbiAgICBnLmNsZWFyUmVjdCgwLCAwLCBnYW1lLndpZHRoLCBnYW1lLmhlaWdodCk7XG4gICAgZm9yIChjb25zdCBiZXppZXIgb2YgYmV6aWVycykge1xuICAgICAgICAvL2RyYXcgdGhlIGN1cnZlIHRyaWFuZ2xlXG4gICAgICAgIGcuc2V0TGluZURhc2goWzEsIDJdKTtcbiAgICAgICAgZy5zdHJva2VTdHlsZSA9ICdibHVlJztcbiAgICAgICAgZy5iZWdpblBhdGgoKTtcbiAgICAgICAgKDAsIHBsb3RMaW5lc18xLnBsb3RMaW5lcykoZywgW2Jlemllci5wMSwgYmV6aWVyLnAyLCBiZXppZXIucDNdKTtcbiAgICAgICAgZy5zdHJva2UoKTtcbiAgICAgICAgLy9kcmF3IG91ciByZWFsIGJlemllciBjdXJ2ZVxuICAgICAgICAvKlxuICAgIGcuc3Ryb2tlU3R5bGUgPSBcInJlZFwiO1xuICAgIGcuYmVnaW5QYXRoKCk7XG4gICAgZy5tb3ZlVG8oYmV6aWVyLnAxWzBdLCBnYW1lLmhlaWdodCAtIGJlemllci5wMVsxXSk7XG4gICAgZy5xdWFkcmF0aWNDdXJ2ZVRvKGJlemllci5wMlswXSwgZ2FtZS5oZWlnaHQgLSBiZXppZXIucDJbMV0sIGJlemllci5wM1swXSwgZ2FtZS5oZWlnaHQgLSBiZXppZXIucDNbMV0pO1xuICAgIGcuc3Ryb2tlKCk7XG4gICAgKi9cbiAgICAgICAgLy9jcmVhdGUgYW5kIGRyYXcgdGhlIG5ldyAnY3VydmUnIHRoYXQgY29uc2lzdHMgb2YgbGluZXNcbiAgICAgICAgY29uc3QgYmV6aWVyTGluZXMgPSAoMCwgcXVhZHJhdGljQmV6aWVyVG9Qb2ludHNfMS5xdWFkcmF0aWNCZXppZXJUb1BvaW50cykoYmV6aWVyLCBzcGxpdEJvdW5kYXJ5KTtcbiAgICAgICAgZy5zZXRMaW5lRGFzaChbXSk7XG4gICAgICAgIGcuc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xuICAgICAgICBnLmJlZ2luUGF0aCgpO1xuICAgICAgICAoMCwgcGxvdExpbmVzXzEucGxvdExpbmVzKShnLCBiZXppZXJMaW5lcyk7XG4gICAgICAgIGcuc3Ryb2tlKCk7XG4gICAgfVxufTtcbnJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5xdWFkcmF0aWNCZXppZXJUb1BvaW50cyA9IHZvaWQgMDtcbmNvbnN0IGdsX21hdHJpeF8xID0gcmVxdWlyZShcImdsLW1hdHJpeFwiKTtcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL21hdGhzL2NvbW1vblwiKTtcbmNvbnN0IHBvaW50XzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvcG9pbnRcIik7XG5jb25zdCBxdWFkcmF0aWNCZXppZXJUb1BvaW50cyA9IChiZXppZXIsIHNwbGl0Qm91bmRhcnkpID0+IHtcbiAgICBjb25zdCBwb2ludHMgPSBbZ2xfbWF0cml4XzEudmVjMi5jbG9uZShiZXppZXIucDEpLCBnbF9tYXRyaXhfMS52ZWMyLmNsb25lKGJlemllci5wMyldO1xuICAgIGNvbnN0IHF1YWRyYXRpY0JlemllclNwbGl0ID0gKGJlemllciwgbWluLCBtYXgsIGluc2VydEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSAoMCwgY29tbW9uXzEubGVycCkobWluLCBtYXgsIDAuNSk7XG4gICAgICAgIGNvbnN0IHBvaW50T25DdXJ2ZSA9ICgwLCBwb2ludF8xLmxlcnAyKSgoMCwgcG9pbnRfMS5sZXJwMikoYmV6aWVyLnAxLCBiZXppZXIucDIsIHRpbWUpLCAoMCwgcG9pbnRfMS5sZXJwMikoYmV6aWVyLnAyLCBiZXppZXIucDMsIHRpbWUpLCB0aW1lKTtcbiAgICAgICAgY29uc3QgcHJldlBvaW50ID0gcG9pbnRzW2luc2VydEluZGV4IC0gMV07XG4gICAgICAgIGNvbnN0IG5leHRQb2ludCA9IHBvaW50c1tpbnNlcnRJbmRleF07XG4gICAgICAgIHBvaW50cy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIHBvaW50T25DdXJ2ZSk7XG4gICAgICAgIGlmICgoMCwgcG9pbnRfMS5kb3QpKCgwLCBwb2ludF8xLm5vcm1hbGl6ZSkoKDAsIHBvaW50XzEuc3ViKShwcmV2UG9pbnQsIHBvaW50T25DdXJ2ZSkpLCAoMCwgcG9pbnRfMS5ub3JtYWxpemUpKCgwLCBwb2ludF8xLnN1YikobmV4dFBvaW50LCBwb2ludE9uQ3VydmUpKSkgPiBzcGxpdEJvdW5kYXJ5KSB7XG4gICAgICAgICAgICBxdWFkcmF0aWNCZXppZXJTcGxpdChiZXppZXIsIHRpbWUsIG1heCwgaW5zZXJ0SW5kZXggKyAxKTtcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllclNwbGl0KGJlemllciwgbWluLCB0aW1lLCBpbnNlcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHF1YWRyYXRpY0JlemllclNwbGl0KGJlemllciwgMCwgMSwgMSk7XG4gICAgcmV0dXJuIHBvaW50cztcbn07XG5leHBvcnRzLnF1YWRyYXRpY0JlemllclRvUG9pbnRzID0gcXVhZHJhdGljQmV6aWVyVG9Qb2ludHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubGVycCA9IGV4cG9ydHMudGltZUF0UG9zID0gZXhwb3J0cy5jbGFtcCA9IGV4cG9ydHMuZnJhY3QgPSBleHBvcnRzLm5lZ0ZyYWN0ID0gZXhwb3J0cy5FUFNJTE9OID0gdm9pZCAwO1xuZXhwb3J0cy5FUFNJTE9OID0gMC4wMDAwMDE7XG5jb25zdCBuZWdGcmFjdCA9ICh4KSA9PiAxLjAgLSB4ICsgTWF0aC5mbG9vcih4KTtcbmV4cG9ydHMubmVnRnJhY3QgPSBuZWdGcmFjdDtcbmNvbnN0IGZyYWN0ID0gKHgpID0+IHggLSBNYXRoLmZsb29yKHgpO1xuZXhwb3J0cy5mcmFjdCA9IGZyYWN0O1xuY29uc3QgY2xhbXAgPSAoYSwgbWluLCBtYXgpID0+IE1hdGgubWF4KE1hdGgubWluKGEsIG1heCksIG1pbik7XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5jb25zdCB0aW1lQXRQb3MgPSAoc3RhcnRQb3MsIGRpciwgbmV3UG9zKSA9PiBkaXIgPyAoMCwgZXhwb3J0cy5jbGFtcCkoKG5ld1BvcyAtIHN0YXJ0UG9zKSAvIGRpciwgMCwgMSkgOiAwO1xuZXhwb3J0cy50aW1lQXRQb3MgPSB0aW1lQXRQb3M7XG5jb25zdCBsZXJwID0gKGEsIGIsIHQpID0+IGEgKiAoMSAtIHQpICsgYiAqIHQ7XG5leHBvcnRzLmxlcnAgPSBsZXJwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmluc2lkZSA9IGV4cG9ydHMuaW5SYW5nZSA9IGV4cG9ydHMuYXZnID0gZXhwb3J0cy5tYXgyID0gZXhwb3J0cy5taW4yID0gZXhwb3J0cy50b1ByZWNpc2lvbjIgPSBleHBvcnRzLmxlcnAyID0gZXhwb3J0cy5ub3JtYWxpemUgPSBleHBvcnRzLmxlbmd0aCA9IGV4cG9ydHMuZG90ID0gZXhwb3J0cy5zaWduID0gZXhwb3J0cy5hYnMgPSBleHBvcnRzLmNlaWwgPSBleHBvcnRzLmZsb29yID0gZXhwb3J0cy5zdWIgPSBleHBvcnRzLmFkZHMgPSBleHBvcnRzLmFkZCA9IGV4cG9ydHMuZGl2aWRlID0gZXhwb3J0cy5tdWx0aXBseSA9IGV4cG9ydHMuc2NhbGUgPSBleHBvcnRzLmVxdWFscyA9IGV4cG9ydHMuZGV0ZXJtaW5hbnQyID0gZXhwb3J0cy5jbGFtcDIgPSB2b2lkIDA7XG5jb25zdCBnbF9tYXRyaXhfMSA9IHJlcXVpcmUoXCJnbC1tYXRyaXhcIik7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbmNvbnN0IGNsYW1wMiA9IChhLCBtaW4sIG1heCkgPT4ge1xuICAgIGNvbnN0IG91dCA9IGdsX21hdHJpeF8xLnZlYzIuY2xvbmUoYSk7XG4gICAgZ2xfbWF0cml4XzEudmVjMi5taW4ob3V0LCBvdXQsIG1heCk7XG4gICAgZ2xfbWF0cml4XzEudmVjMi5tYXgob3V0LCBvdXQsIG1pbik7XG4gICAgcmV0dXJuIG91dDtcbn07XG5leHBvcnRzLmNsYW1wMiA9IGNsYW1wMjtcbmNvbnN0IGRldGVybWluYW50MiA9IChwMSwgcDIpID0+IHAxWzBdICogcDJbMV0gLSBwMVsxXSAqIHAyWzBdO1xuZXhwb3J0cy5kZXRlcm1pbmFudDIgPSBkZXRlcm1pbmFudDI7XG5leHBvcnRzLmVxdWFscyA9IGdsX21hdHJpeF8xLnZlYzIuZXF1YWxzO1xuY29uc3Qgc2NhbGUgPSAocDEsIGEpID0+IGdsX21hdHJpeF8xLnZlYzIuc2NhbGUoZ2xfbWF0cml4XzEudmVjMi5jcmVhdGUoKSwgcDEsIGEpO1xuZXhwb3J0cy5zY2FsZSA9IHNjYWxlO1xuY29uc3QgbXVsdGlwbHkgPSAocDEsIHAyKSA9PiBnbF9tYXRyaXhfMS52ZWMyLm11bHRpcGx5KGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCksIHAxLCBwMik7XG5leHBvcnRzLm11bHRpcGx5ID0gbXVsdGlwbHk7XG5jb25zdCBkaXZpZGUgPSAocDEsIHAyKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmRpdmlkZShnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpLCBwMSwgcDIpO1xuZXhwb3J0cy5kaXZpZGUgPSBkaXZpZGU7XG5jb25zdCBhZGQgPSAocDEsIHAyKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmFkZChnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpLCBwMSwgcDIpO1xuZXhwb3J0cy5hZGQgPSBhZGQ7XG5jb25zdCBhZGRzID0gKHAxLCBhKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMocDFbMF0gKyBhLCBwMVsxXSArIGEpO1xuZXhwb3J0cy5hZGRzID0gYWRkcztcbmNvbnN0IHN1YiA9IChwMSwgcDIpID0+IGdsX21hdHJpeF8xLnZlYzIuc3ViKGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCksIHAxLCBwMik7XG5leHBvcnRzLnN1YiA9IHN1YjtcbmNvbnN0IGZsb29yID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZsb29yKGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCksIHAxKTtcbmV4cG9ydHMuZmxvb3IgPSBmbG9vcjtcbmNvbnN0IGNlaWwgPSAocDEpID0+IGdsX21hdHJpeF8xLnZlYzIuY2VpbChnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpLCBwMSk7XG5leHBvcnRzLmNlaWwgPSBjZWlsO1xuY29uc3QgYWJzID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoTWF0aC5hYnMocDFbMF0pLCBNYXRoLmFicyhwMVsxXSkpO1xuZXhwb3J0cy5hYnMgPSBhYnM7XG5jb25zdCBzaWduID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoTWF0aC5zaWduKHAxWzBdKSwgTWF0aC5zaWduKHAxWzFdKSk7XG5leHBvcnRzLnNpZ24gPSBzaWduO1xuY29uc3QgZG90ID0gKHAxLCBwMikgPT4gZ2xfbWF0cml4XzEudmVjMi5kb3QocDEsIHAyKTtcbmV4cG9ydHMuZG90ID0gZG90O1xuY29uc3QgbGVuZ3RoID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmxlbmd0aChwMSk7XG5leHBvcnRzLmxlbmd0aCA9IGxlbmd0aDtcbmNvbnN0IG5vcm1hbGl6ZSA9IChwMSkgPT4gKDAsIGV4cG9ydHMuc2NhbGUpKHAxLCAxIC8gKDAsIGV4cG9ydHMubGVuZ3RoKShwMSkpO1xuZXhwb3J0cy5ub3JtYWxpemUgPSBub3JtYWxpemU7XG5jb25zdCBsZXJwMiA9IChhLCBiLCB0KSA9PiBnbF9tYXRyaXhfMS52ZWMyLmxlcnAoZ2xfbWF0cml4XzEudmVjMi5jcmVhdGUoKSwgYSwgYiwgdCk7XG5leHBvcnRzLmxlcnAyID0gbGVycDI7XG4vL3dhcm5pbmc6IG11dGF0ZXMgYVxuY29uc3QgdG9QcmVjaXNpb24yID0gKGEsIGFtb3VudCkgPT4ge1xuICAgIGFbMF0gPSBwYXJzZUZsb2F0KGFbMF0udG9QcmVjaXNpb24oYW1vdW50KSk7XG4gICAgYVsxXSA9IHBhcnNlRmxvYXQoYVsxXS50b1ByZWNpc2lvbihhbW91bnQpKTtcbiAgICByZXR1cm4gYTtcbn07XG5leHBvcnRzLnRvUHJlY2lzaW9uMiA9IHRvUHJlY2lzaW9uMjtcbmNvbnN0IG1pbjIgPSAoLi4ub2JqcykgPT4ge1xuICAgIGNvbnN0IFtmaXJzdCwgLi4ucmVzdF0gPSBvYmpzO1xuICAgIGNvbnN0IHJlc3VsdCA9IGdsX21hdHJpeF8xLnZlYzIuY2xvbmUoZmlyc3QpO1xuICAgIHJlc3QuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgIGdsX21hdHJpeF8xLnZlYzIubWluKHJlc3VsdCwgcmVzdWx0LCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0cy5taW4yID0gbWluMjtcbmNvbnN0IG1heDIgPSAoLi4ub2JqcykgPT4ge1xuICAgIGNvbnN0IFtmaXJzdCwgLi4ucmVzdF0gPSBvYmpzO1xuICAgIGNvbnN0IHJlc3VsdCA9IGdsX21hdHJpeF8xLnZlYzIuY2xvbmUoZmlyc3QpO1xuICAgIHJlc3QuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgIGdsX21hdHJpeF8xLnZlYzIubWF4KHJlc3VsdCwgcmVzdWx0LCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0cy5tYXgyID0gbWF4MjtcbmNvbnN0IGF2ZyA9ICguLi5vYmpzKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2xfbWF0cml4XzEudmVjMi5jcmVhdGUoKTtcbiAgICBpZiAob2Jqcy5sZW5ndGgpIHtcbiAgICAgICAgb2Jqcy5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGdsX21hdHJpeF8xLnZlYzIuYWRkKHJlc3VsdCwgcmVzdWx0LCBvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgZ2xfbWF0cml4XzEudmVjMi5zY2FsZShyZXN1bHQsIHJlc3VsdCwgMSAvIG9ianMubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnRzLmF2ZyA9IGF2ZztcbmNvbnN0IGluUmFuZ2UgPSAocDEsIG1pbiwgbWF4KSA9PiB7XG4gICAgcmV0dXJuICEocDFbMF0gPiBtYXhbMF0gfHwgcDFbMF0gPCBtaW5bMF0gfHwgcDFbMV0gPiBtYXhbMV0gfHwgcDFbMV0gPCBtaW5bMV0pO1xufTtcbmV4cG9ydHMuaW5SYW5nZSA9IGluUmFuZ2U7XG5jb25zdCBpbnNpZGUgPSAocG9pbnRzLCBwKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgY3VyID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBwb2ludHMuZm9yRWFjaCgobmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBwMCA9IGN1clsxXSA8IG5leHRbMV0gPyBjdXIgOiBuZXh0O1xuICAgICAgICBjb25zdCBwMSA9IGN1clsxXSA8IG5leHRbMV0gPyBuZXh0IDogY3VyO1xuICAgICAgICBpZiAocDBbMV0gPCBwWzFdICsgY29tbW9uXzEuRVBTSUxPTiAmJiBwMVsxXSA+IHBbMV0gKyBjb21tb25fMS5FUFNJTE9OKSB7XG4gICAgICAgICAgICBpZiAoKHAxWzBdIC0gcDBbMF0pICogKHBbMV0gLSBwMFsxXSkgPiAocFswXSAtIHAwWzBdKSAqIChwMVsxXSAtIHAwWzFdKSkge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VyID0gbmV4dDtcbiAgICB9KTtcbiAgICByZXR1cm4gY291bnQgJSAyICE9PSAwO1xufTtcbmV4cG9ydHMuaW5zaWRlID0gaW5zaWRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBsb3RMaW5lcyA9IHZvaWQgMDtcbmNvbnN0IHBsb3RMaW5lcyA9IChnLCBwb2ludHMpID0+IHtcbiAgICBjb25zdCBmaXJzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgIGcubW92ZVRvKGZpcnN0UG9pbnRbMF0sIGcuY2FudmFzLmhlaWdodCAtIGZpcnN0UG9pbnRbMV0pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICBnLmxpbmVUbyhwb2ludFswXSwgZy5jYW52YXMuaGVpZ2h0IC0gcG9pbnRbMV0pO1xuICAgIH1cbn07XG5leHBvcnRzLnBsb3RMaW5lcyA9IHBsb3RMaW5lcztcbiJdLCJuYW1lcyI6WyJnbF9tYXRyaXhfMSIsInF1YWRyYXRpY0JlemllclRvUG9pbnRzXzEiLCJwbG90TGluZXNfMSIsImdhbWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZyIsImdldENvbnRleHQiLCJFcnJvciIsImJlemllcnMiLCJwMSIsInZlYzIiLCJmcm9tVmFsdWVzIiwicDIiLCJwMyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiYmV6aWVyIiwic2V0TGluZURhc2giLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsInBsb3RMaW5lcyIsInN0cm9rZSIsImJlemllckxpbmVzIiwicXVhZHJhdGljQmV6aWVyVG9Qb2ludHMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNvbW1vbl8xIiwicG9pbnRfMSIsInNwbGl0Qm91bmRhcnkiLCJwb2ludHMiLCJjbG9uZSIsInF1YWRyYXRpY0JlemllclNwbGl0IiwibWluIiwibWF4IiwiaW5zZXJ0SW5kZXgiLCJ0aW1lIiwibGVycCIsInBvaW50T25DdXJ2ZSIsImxlcnAyIiwicHJldlBvaW50IiwibmV4dFBvaW50Iiwic3BsaWNlIiwiZG90Iiwibm9ybWFsaXplIiwic3ViIiwidGltZUF0UG9zIiwiY2xhbXAiLCJmcmFjdCIsIm5lZ0ZyYWN0IiwiRVBTSUxPTiIsIngiLCJNYXRoIiwiZmxvb3IiLCJhIiwic3RhcnRQb3MiLCJkaXIiLCJuZXdQb3MiLCJiIiwidCIsImluc2lkZSIsImluUmFuZ2UiLCJhdmciLCJtYXgyIiwibWluMiIsInRvUHJlY2lzaW9uMiIsImxlbmd0aCIsInNpZ24iLCJhYnMiLCJjZWlsIiwiYWRkcyIsImFkZCIsImRpdmlkZSIsIm11bHRpcGx5Iiwic2NhbGUiLCJlcXVhbHMiLCJkZXRlcm1pbmFudDIiLCJjbGFtcDIiLCJvdXQiLCJjcmVhdGUiLCJhbW91bnQiLCJwYXJzZUZsb2F0IiwidG9QcmVjaXNpb24iLCJvYmpzIiwiZmlyc3QiLCJyZXN0IiwicmVzdWx0IiwiZm9yRWFjaCIsIm9iaiIsInAiLCJjb3VudCIsImN1ciIsIm5leHQiLCJwMCIsImZpcnN0UG9pbnQiLCJtb3ZlVG8iLCJjYW52YXMiLCJpIiwicG9pbnQiLCJsaW5lVG8iXSwic291cmNlUm9vdCI6IiJ9