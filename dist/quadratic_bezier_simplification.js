(()=>{"use strict";var e={354:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.quadraticBezierToPoints=void 0;const o=a(345);t.quadraticBezierToPoints=(e,t)=>{const a=[{x:e.p1.x,y:e.p1.y},{x:e.p3.x,y:e.p3.y}],x=(e,r,y,n)=>{const i=o.lerp(r,y,.5),l=o.lerp2(o.lerp2(e.p1,e.p2,i),o.lerp2(e.p2,e.p3,i),i),s=a[n-1],c=a[n];a.splice(n,0,l),o.dot(o.normalize(o.sub(s,l)),o.normalize(o.sub(c,l)))>t&&(x(e,i,y,n+1),x(e,r,i,n))};return x(e,0,1,1),a}},345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inRange=t.avg=t.max2=t.min2=t.toPrecision2=t.lerp2=t.lerp=t.normalize=t.length=t.equal=t.dot=t.sign=t.abs=t.ceil=t.floor=t.sub=t.adds=t.add=t.divide=t.multiply=t.scale=t.equals=t.determinant2=t.timeAtPos=t.clamp2=t.clamp=void 0,t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t),t.clamp2=(e,a,o)=>({x:t.clamp(e.x,a.x,o.x),y:t.clamp(e.y,a.y,o.y)}),t.timeAtPos=(e,a,o)=>a?t.clamp((o-e)/a,0,1):0,t.determinant2=(e,t)=>e.x*t.y-e.y*t.x,t.equals=(e,t)=>e.x===t.x&&e.y===t.y,t.scale=(e,t)=>({x:t*e.x,y:t*e.y}),t.multiply=(e,t)=>({x:t.x*e.x,y:t.y*e.y}),t.divide=(e,t)=>({x:e.x/t.x,y:e.y/t.y}),t.add=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),t.adds=(e,t)=>({x:e.x+t,y:e.y+t}),t.sub=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),t.floor=e=>({x:Math.floor(e.x),y:Math.floor(e.y)}),t.ceil=e=>({x:Math.ceil(e.x),y:Math.ceil(e.y)}),t.abs=e=>({x:Math.abs(e.x),y:Math.abs(e.y)}),t.sign=e=>({x:Math.sign(e.x),y:Math.sign(e.y)}),t.dot=(e,t)=>e.x*t.x+e.y*t.y,t.equal=(e,t)=>e.x==t.x&&e.y==t.y,t.length=e=>Math.sqrt(e.x*e.x+e.y*e.y),t.normalize=e=>t.scale(e,1/t.length(e)),t.lerp=(e,t,a)=>e*(1-a)+t*a,t.lerp2=(e,a,o)=>({x:t.lerp(e.x,a.x,o),y:t.lerp(e.y,a.y,o)}),t.toPrecision2=(e,t)=>(e.x=parseFloat(e.x.toPrecision(t)),e.y=parseFloat(e.y.toPrecision(t)),e),t.min2=(e,...t)=>{const a={x:e.x,y:e.y};return t.forEach((e=>{a.x=Math.min(a.x,e.x),a.y=Math.min(a.y,e.y)})),a},t.max2=(e,...t)=>{const a={x:e.x,y:e.y};return t.forEach((e=>{a.x=Math.max(a.x,e.x),a.y=Math.max(a.y,e.y)})),a},t.avg=e=>{const t=e.reduce(((e,t)=>(e.x+=t.x,e.y+=t.y,e)),{x:0,y:0});return t.x/=e.length,t.y/=e.length,t},t.inRange=(e,t,a)=>!(e.x>a.x||e.x<t.x||e.y>a.y||e.y<t.y)},717:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.plotLines=void 0,t.plotLines=(e,t)=>{const a=t[0];e.moveTo(a.x,e.canvas.height-a.y);for(let a=0;a<t.length;a++){const o=t[a];e.lineTo(o.x,e.canvas.height-o.y)}}}},t={};function a(o){var x=t[o];if(void 0!==x)return x.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,a),r.exports}(()=>{const e=a(354),t=a(717),o=document.getElementById("game"),x=o.getContext("2d");if(!x)throw new Error("Could not get canvas graphics :(");const r={x:40,y:40},y={x:200,y:140},n={x:300,y:80},i={p1:r,p2:y,p3:n,points:[r,y,n]},l=e.quadraticBezierToPoints(i,-.99),s=()=>{x.clearRect(0,0,o.width,o.height),x.strokeStyle="blue",x.beginPath(),t.plotLines(x,i.points),x.closePath(),x.stroke(),x.strokeStyle="green",x.beginPath(),t.plotLines(x,l),x.stroke(),requestAnimationFrame(s)};requestAnimationFrame(s)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvZ2VvbWV0cnkvcXVhZHJhdGljQmV6aWVyVG9Qb2ludHMudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL21hdGhzL2NvbW1vbi50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvcmVuZGVyL3Bsb3RMaW5lcy50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL2RlbW9zL3F1YWRyYXRpY0JlemllclNpbXBsaWZpY2F0aW9uLnRzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicXVhZHJhdGljQmV6aWVyVG9Qb2ludHMiLCJjb21tb25fMSIsImJlemllciIsInNwbGl0Qm91bmRhcnkiLCJwb2ludHMiLCJ4IiwicDEiLCJ5IiwicDMiLCJxdWFkcmF0aWNCZXppZXJTcGxpdCIsIm1pbiIsIm1heCIsImluc2VydEluZGV4IiwidGltZSIsImxlcnAiLCJwb2ludE9uQ3VydmUiLCJsZXJwMiIsInAyIiwicHJldlBvaW50IiwibmV4dFBvaW50Iiwic3BsaWNlIiwiZG90Iiwibm9ybWFsaXplIiwic3ViIiwiaW5SYW5nZSIsImF2ZyIsIm1heDIiLCJtaW4yIiwidG9QcmVjaXNpb24yIiwibGVuZ3RoIiwiZXF1YWwiLCJzaWduIiwiYWJzIiwiY2VpbCIsImZsb29yIiwiYWRkcyIsImFkZCIsImRpdmlkZSIsIm11bHRpcGx5Iiwic2NhbGUiLCJlcXVhbHMiLCJkZXRlcm1pbmFudDIiLCJ0aW1lQXRQb3MiLCJjbGFtcDIiLCJjbGFtcCIsImEiLCJNYXRoIiwic3RhcnRQb3MiLCJkaXIiLCJuZXdQb3MiLCJiIiwic3FydCIsInQiLCJhbW91bnQiLCJwYXJzZUZsb2F0IiwidG9QcmVjaXNpb24iLCJvYmoiLCJvYmpzIiwicmVzdWx0IiwiZm9yRWFjaCIsImFyciIsInN1bSIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwbG90TGluZXMiLCJnIiwiZmlyc3RQb2ludCIsIm1vdmVUbyIsImNhbnZhcyIsImhlaWdodCIsImkiLCJwb2ludCIsImxpbmVUbyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJxdWFkcmF0aWNCZXppZXJUb1BvaW50c18xIiwicGxvdExpbmVzXzEiLCJnYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJFcnJvciIsImJlemllckxpbmVzIiwiZHJhdyIsImNsZWFyUmVjdCIsIndpZHRoIiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJ3Q0FDQUEsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDdERELEVBQVFFLDZCQUEwQixFQUNsQyxNQUFNQyxFQUFXLEVBQVEsS0FvQnpCSCxFQUFRRSx3QkFuQndCLENBQUNFLEVBQVFDLEtBQ3JDLE1BQU1DLEVBQVMsQ0FDWCxDQUFFQyxFQUFHSCxFQUFPSSxHQUFHRCxFQUFHRSxFQUFHTCxFQUFPSSxHQUFHQyxHQUMvQixDQUFFRixFQUFHSCxFQUFPTSxHQUFHSCxFQUFHRSxFQUFHTCxFQUFPTSxHQUFHRCxJQUU3QkUsRUFBdUIsQ0FBQ1AsRUFBUVEsRUFBS0MsRUFBS0MsS0FDNUMsTUFBTUMsRUFBT1osRUFBU2EsS0FBS0osRUFBS0MsRUFBSyxJQUMvQkksRUFBZWQsRUFBU2UsTUFBTWYsRUFBU2UsTUFBTWQsRUFBT0ksR0FBSUosRUFBT2UsR0FBSUosR0FBT1osRUFBU2UsTUFBTWQsRUFBT2UsR0FBSWYsRUFBT00sR0FBSUss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LEVBQUdQLEVBQUtRLE1BQU9SLEVBQUtiLFFBRW5DSixFQUFFMEIsWUFBYyxPQUNoQjFCLEVBQUUyQixZQUNGWCxFQUFZakIsVUFBVUMsRUFBR2hFLEVBQU9FLFFBQ2hDOEQsRUFBRTRCLFlBQ0Y1QixFQUFFNkIsU0FRRjdCLEVBQUUwQixZQUFjLFFBQ2hCMUIsRUFBRTJCLFlBQ0ZYLEVBQVlqQixVQUFVQyxFQUFHc0IsR0FDekJ0QixFQUFFNkIsU0FDRkMsc0JBQXNCUCxJQUUxQk8sc0JBQXNCUCxJIiwiZmlsZSI6InF1YWRyYXRpY19iZXppZXJfc2ltcGxpZmljYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnF1YWRyYXRpY0JlemllclRvUG9pbnRzID0gdm9pZCAwO1xyXG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9tYXRocy9jb21tb25cIik7XHJcbmNvbnN0IHF1YWRyYXRpY0JlemllclRvUG9pbnRzID0gKGJlemllciwgc3BsaXRCb3VuZGFyeSkgPT4ge1xyXG4gICAgY29uc3QgcG9pbnRzID0gW1xyXG4gICAgICAgIHsgeDogYmV6aWVyLnAxLngsIHk6IGJlemllci5wMS55IH0sXHJcbiAgICAgICAgeyB4OiBiZXppZXIucDMueCwgeTogYmV6aWVyLnAzLnkgfVxyXG4gICAgXTtcclxuICAgIGNvbnN0IHF1YWRyYXRpY0JlemllclNwbGl0ID0gKGJlemllciwgbWluLCBtYXgsIGluc2VydEluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGltZSA9IGNvbW1vbl8xLmxlcnAobWluLCBtYXgsIDAuNSk7XHJcbiAgICAgICAgY29uc3QgcG9pbnRPbkN1cnZlID0gY29tbW9uXzEubGVycDIoY29tbW9uXzEubGVycDIoYmV6aWVyLnAxLCBiZXppZXIucDIsIHRpbWUpLCBjb21tb25fMS5sZXJwMihiZXppZXIucDIsIGJlemllci5wMywgdGltZSksIHRpbWUpO1xyXG4gICAgICAgIGNvbnN0IHByZXZQb2ludCA9IHBvaW50c1tpbnNlcnRJbmRleCAtIDFdO1xyXG4gICAgICAgIGNvbnN0IG5leHRQb2ludCA9IHBvaW50c1tpbnNlcnRJbmRleF07XHJcbiAgICAgICAgcG9pbnRzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgcG9pbnRPbkN1cnZlKTtcclxuICAgICAgICBpZiAoY29tbW9uXzEuZG90KGNvbW1vbl8xLm5vcm1hbGl6ZShjb21tb25fMS5zdWIocHJldlBvaW50LCBwb2ludE9uQ3VydmUpKSwgY29tbW9uXzEubm9ybWFsaXplKGNvbW1vbl8xLnN1YihuZXh0UG9pbnQsIHBvaW50T25DdXJ2ZSkpKSA+IHNwbGl0Qm91bmRhcnkpIHtcclxuICAgICAgICAgICAgcXVhZHJhdGljQmV6aWVyU3BsaXQoYmV6aWVyLCB0aW1lLCBtYXgsIGluc2VydEluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIHF1YWRyYXRpY0JlemllclNwbGl0KGJlemllciwgbWluLCB0aW1lLCBpbnNlcnRJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHF1YWRyYXRpY0JlemllclNwbGl0KGJlemllciwgMCwgMSwgMSk7XHJcbiAgICByZXR1cm4gcG9pbnRzO1xyXG59O1xyXG5leHBvcnRzLnF1YWRyYXRpY0JlemllclRvUG9pbnRzID0gcXVhZHJhdGljQmV6aWVyVG9Qb2ludHM7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuaW5SYW5nZSA9IGV4cG9ydHMuYXZnID0gZXhwb3J0cy5tYXgyID0gZXhwb3J0cy5taW4yID0gZXhwb3J0cy50b1ByZWNpc2lvbjIgPSBleHBvcnRzLmxlcnAyID0gZXhwb3J0cy5sZXJwID0gZXhwb3J0cy5ub3JtYWxpemUgPSBleHBvcnRzLmxlbmd0aCA9IGV4cG9ydHMuZXF1YWwgPSBleHBvcnRzLmRvdCA9IGV4cG9ydHMuc2lnbiA9IGV4cG9ydHMuYWJzID0gZXhwb3J0cy5jZWlsID0gZXhwb3J0cy5mbG9vciA9IGV4cG9ydHMuc3ViID0gZXhwb3J0cy5hZGRzID0gZXhwb3J0cy5hZGQgPSBleHBvcnRzLmRpdmlkZSA9IGV4cG9ydHMubXVsdGlwbHkgPSBleHBvcnRzLnNjYWxlID0gZXhwb3J0cy5lcXVhbHMgPSBleHBvcnRzLmRldGVybWluYW50MiA9IGV4cG9ydHMudGltZUF0UG9zID0gZXhwb3J0cy5jbGFtcDIgPSBleHBvcnRzLmNsYW1wID0gdm9pZCAwO1xyXG5jb25zdCBjbGFtcCA9IChhLCBtaW4sIG1heCkgPT4gTWF0aC5tYXgoTWF0aC5taW4oYSwgbWF4KSwgbWluKTtcclxuZXhwb3J0cy5jbGFtcCA9IGNsYW1wO1xyXG5jb25zdCBjbGFtcDIgPSAoYSwgbWluLCBtYXgpID0+ICh7IHg6IGV4cG9ydHMuY2xhbXAoYS54LCBtaW4ueCwgbWF4LngpLCB5OiBleHBvcnRzLmNsYW1wKGEueSwgbWluLnksIG1heC55KSB9KTtcclxuZXhwb3J0cy5jbGFtcDIgPSBjbGFtcDI7XHJcbmNvbnN0IHRpbWVBdFBvcyA9IChzdGFydFBvcywgZGlyLCBuZXdQb3MpID0+IGRpciA/IGV4cG9ydHMuY2xhbXAoKG5ld1BvcyAtIHN0YXJ0UG9zKSAvIGRpciwgMCwgMSkgOiAwO1xyXG5leHBvcnRzLnRpbWVBdFBvcyA9IHRpbWVBdFBvcztcclxuY29uc3QgZGV0ZXJtaW5hbnQyID0gKHAxLCBwMikgPT4gKHAxLnggKiBwMi55KSAtIChwMS55ICogcDIueCk7XHJcbmV4cG9ydHMuZGV0ZXJtaW5hbnQyID0gZGV0ZXJtaW5hbnQyO1xyXG5jb25zdCBlcXVhbHMgPSAoYSwgYikgPT4gYS54ID09PSBiLnggJiYgYS55ID09PSBiLnk7XHJcbmV4cG9ydHMuZXF1YWxzID0gZXF1YWxzO1xyXG5jb25zdCBzY2FsZSA9IChwMSwgYSkgPT4gKHsgeDogYSAqIHAxLngsIHk6IGEgKiBwMS55IH0pO1xyXG5leHBvcnRzLnNjYWxlID0gc2NhbGU7XHJcbmNvbnN0IG11bHRpcGx5ID0gKHAxLCBwMikgPT4gKHsgeDogcDIueCAqIHAxLngsIHk6IHAyLnkgKiBwMS55IH0pO1xyXG5leHBvcnRzLm11bHRpcGx5ID0gbXVsdGlwbHk7XHJcbmNvbnN0IGRpdmlkZSA9IChwMSwgcDIpID0+ICh7IHg6IHAxLnggLyBwMi54LCB5OiBwMS55IC8gcDIueSB9KTtcclxuZXhwb3J0cy5kaXZpZGUgPSBkaXZpZGU7XHJcbmNvbnN0IGFkZCA9IChwMSwgcDIpID0+ICh7IHg6IHAxLnggKyBwMi54LCB5OiBwMS55ICsgcDIueSB9KTtcclxuZXhwb3J0cy5hZGQgPSBhZGQ7XHJcbmNvbnN0IGFkZHMgPSAocDEsIGEpID0+ICh7IHg6IHAxLnggKyBhLCB5OiBwMS55ICsgYSB9KTtcclxuZXhwb3J0cy5hZGRzID0gYWRkcztcclxuY29uc3Qgc3ViID0gKHAxLCBwMikgPT4gKHsgeDogcDEueCAtIHAyLngsIHk6IHAxLnkgLSBwMi55IH0pO1xyXG5leHBvcnRzLnN1YiA9IHN1YjtcclxuY29uc3QgZmxvb3IgPSAocDEpID0+ICh7IHg6IE1hdGguZmxvb3IocDEueCksIHk6IE1hdGguZmxvb3IocDEueSkgfSk7XHJcbmV4cG9ydHMuZmxvb3IgPSBmbG9vcjtcclxuY29uc3QgY2VpbCA9IChwMSkgPT4gKHsgeDogTWF0aC5jZWlsKHAxLngpLCB5OiBNYXRoLmNlaWwocDEueSkgfSk7XHJcbmV4cG9ydHMuY2VpbCA9IGNlaWw7XHJcbmNvbnN0IGFicyA9IChwMSkgPT4gKHsgeDogTWF0aC5hYnMocDEueCksIHk6IE1hdGguYWJzKHAxLnkpIH0pO1xyXG5leHBvcnRzLmFicyA9IGFicztcclxuY29uc3Qgc2lnbiA9IChwMSkgPT4gKHsgeDogTWF0aC5zaWduKHAxLngpLCB5OiBNYXRoLnNpZ24ocDEueSkgfSk7XHJcbmV4cG9ydHMuc2lnbiA9IHNpZ247XHJcbmNvbnN0IGRvdCA9IChwMSwgcDIpID0+IHAxLnggKiBwMi54ICsgcDEueSAqIHAyLnk7XHJcbmV4cG9ydHMuZG90ID0gZG90O1xyXG5jb25zdCBlcXVhbCA9IChwMSwgcDIpID0+IHAxLnggPT0gcDIueCAmJiBwMS55ID09IHAyLnk7XHJcbmV4cG9ydHMuZXF1YWwgPSBlcXVhbDtcclxuY29uc3QgbGVuZ3RoID0gKHAxKSA9PiBNYXRoLnNxcnQocDEueCAqIHAxLnggKyBwMS55ICogcDEueSk7XHJcbmV4cG9ydHMubGVuZ3RoID0gbGVuZ3RoO1xyXG5jb25zdCBub3JtYWxpemUgPSAocDEpID0+IGV4cG9ydHMuc2NhbGUocDEsIDEgLyBleHBvcnRzLmxlbmd0aChwMSkpO1xyXG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcclxuY29uc3QgbGVycCA9IChhLCBiLCB0KSA9PiBhICogKDEgLSB0KSArIGIgKiB0O1xyXG5leHBvcnRzLmxlcnAgPSBsZXJwO1xyXG5jb25zdCBsZXJwMiA9IChhLCBiLCB0KSA9PiAoeyB4OiBleHBvcnRzLmxlcnAoYS54LCBiLngsIHQpLCB5OiBleHBvcnRzLmxlcnAoYS55LCBiLnksIHQpIH0pO1xyXG5leHBvcnRzLmxlcnAyID0gbGVycDI7XHJcbi8vd2FybmluZzogbXV0YXRlcyBhXHJcbmNvbnN0IHRvUHJlY2lzaW9uMiA9IChhLCBhbW91bnQpID0+IHtcclxuICAgIGEueCA9IHBhcnNlRmxvYXQoYS54LnRvUHJlY2lzaW9uKGFtb3VudCkpO1xyXG4gICAgYS55ID0gcGFyc2VGbG9hdChhLnkudG9QcmVjaXNpb24oYW1vdW50KSk7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuZXhwb3J0cy50b1ByZWNpc2lvbjIgPSB0b1ByZWNpc2lvbjI7XHJcbmNvbnN0IG1pbjIgPSAob2JqLCAuLi5vYmpzKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgeDogb2JqLngsXHJcbiAgICAgICAgeTogb2JqLnlcclxuICAgIH07XHJcbiAgICBvYmpzLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICAgIHJlc3VsdC54ID0gTWF0aC5taW4ocmVzdWx0LngsIG9iai54KTtcclxuICAgICAgICByZXN1bHQueSA9IE1hdGgubWluKHJlc3VsdC55LCBvYmoueSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbmV4cG9ydHMubWluMiA9IG1pbjI7XHJcbmNvbnN0IG1heDIgPSAob2JqLCAuLi5vYmpzKSA9PiB7XHJcbiAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgeDogb2JqLngsXHJcbiAgICAgICAgeTogb2JqLnlcclxuICAgIH07XHJcbiAgICBvYmpzLmZvckVhY2goKG9iaikgPT4ge1xyXG4gICAgICAgIHJlc3VsdC54ID0gTWF0aC5tYXgocmVzdWx0LngsIG9iai54KTtcclxuICAgICAgICByZXN1bHQueSA9IE1hdGgubWF4KHJlc3VsdC55LCBvYmoueSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbmV4cG9ydHMubWF4MiA9IG1heDI7XHJcbmNvbnN0IGF2ZyA9IChhcnIpID0+IHtcclxuICAgIGNvbnN0IHN1bSA9IGFyci5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xyXG4gICAgICAgIGFjYy54ICs9IGl0ZW0ueDtcclxuICAgICAgICBhY2MueSArPSBpdGVtLnk7XHJcbiAgICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHsgeDogMCwgeTogMCB9KTtcclxuICAgIHN1bS54IC89IGFyci5sZW5ndGg7XHJcbiAgICBzdW0ueSAvPSBhcnIubGVuZ3RoO1xyXG4gICAgcmV0dXJuIHN1bTtcclxufTtcclxuZXhwb3J0cy5hdmcgPSBhdmc7XHJcbmNvbnN0IGluUmFuZ2UgPSAocDEsIG1pbiwgbWF4KSA9PiB7XHJcbiAgICByZXR1cm4gIShwMS54ID4gbWF4LnggfHwgcDEueCA8IG1pbi54IHx8IHAxLnkgPiBtYXgueSB8fCBwMS55IDwgbWluLnkpO1xyXG59O1xyXG5leHBvcnRzLmluUmFuZ2UgPSBpblJhbmdlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnBsb3RMaW5lcyA9IHZvaWQgMDtcclxuY29uc3QgcGxvdExpbmVzID0gKGcsIHBvaW50cykgPT4ge1xyXG4gICAgY29uc3QgZmlyc3RQb2ludCA9IHBvaW50c1swXTtcclxuICAgIGcubW92ZVRvKGZpcnN0UG9pbnQueCwgZy5jYW52YXMuaGVpZ2h0IC0gZmlyc3RQb2ludC55KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XHJcbiAgICAgICAgZy5saW5lVG8ocG9pbnQueCwgZy5jYW52YXMuaGVpZ2h0IC0gcG9pbnQueSk7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMucGxvdExpbmVzID0gcGxvdExpbmVzO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgcXVhZHJhdGljQmV6aWVyVG9Qb2ludHNfMSA9IHJlcXVpcmUoXCIuLi9nZW9tZXRyeS9xdWFkcmF0aWNCZXppZXJUb1BvaW50c1wiKTtcclxuY29uc3QgcGxvdExpbmVzXzEgPSByZXF1aXJlKFwiLi4vcmVuZGVyL3Bsb3RMaW5lc1wiKTtcclxuY29uc3QgZ2FtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVwiKTtcclxuY29uc3QgZyA9IGdhbWUuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5pZiAoIWcpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGdldCBjYW52YXMgZ3JhcGhpY3MgOignKTtcclxufVxyXG5jb25zdCBwMSA9IHsgeDogNDAsIHk6IDQwIH07XHJcbmNvbnN0IHAyID0geyB4OiAyMDAsIHk6IDE0MCB9O1xyXG5jb25zdCBwMyA9IHsgeDogMzAwLCB5OiA4MCB9O1xyXG5jb25zdCBiZXppZXIgPSB7XHJcbiAgICBwMSxcclxuICAgIHAyLFxyXG4gICAgcDMsXHJcbiAgICBwb2ludHM6IFtwMSwgcDIsIHAzXVxyXG59O1xyXG5jb25zdCBzcGxpdEJvdW5kYXJ5ID0gLTAuOTk7XHJcbmNvbnN0IGJlemllckxpbmVzID0gcXVhZHJhdGljQmV6aWVyVG9Qb2ludHNfMS5xdWFkcmF0aWNCZXppZXJUb1BvaW50cyhiZXppZXIsIHNwbGl0Qm91bmRhcnkpO1xyXG5jb25zdCBkcmF3ID0gKCkgPT4ge1xyXG4gICAgZy5jbGVhclJlY3QoMCwgMCwgZ2FtZS53aWR0aCwgZ2FtZS5oZWlnaHQpO1xyXG4gICAgLy9kcmF3IHRoZSBjdXJ2ZSB0cmlhbmdsZVxyXG4gICAgZy5zdHJva2VTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgZy5iZWdpblBhdGgoKTtcclxuICAgIHBsb3RMaW5lc18xLnBsb3RMaW5lcyhnLCBiZXppZXIucG9pbnRzKTtcclxuICAgIGcuY2xvc2VQYXRoKCk7XHJcbiAgICBnLnN0cm9rZSgpO1xyXG4gICAgLy9kcmF3IG91ciBiZXppZXIgY3VydmVcclxuICAgIC8qZy5zdHJva2VTdHlsZSA9IFwicmVkXCI7XHJcbiAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgZy5tb3ZlVG8oYmV6aWVyLnAxLngsIGdhbWUuaGVpZ2h0IC0gYmV6aWVyLnAxLnkpO1xyXG4gICAgZy5xdWFkcmF0aWNDdXJ2ZVRvKGJlemllci5wMi54LCBnYW1lLmhlaWdodCAtIGJlemllci5wMi55LCBiZXppZXIucDMueCwgZ2FtZS5oZWlnaHQgLSBiZXppZXIucDMueSk7XHJcbiAgICBnLnN0cm9rZSgpOyovXHJcbiAgICAvL2RyYXcgdGhlIG5ldyAnY3VydmUnIHRoYXQgY29uc2lzdHMgb2YgbGluZXNcclxuICAgIGcuc3Ryb2tlU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgcGxvdExpbmVzXzEucGxvdExpbmVzKGcsIGJlemllckxpbmVzKTtcclxuICAgIGcuc3Ryb2tlKCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XHJcbn07XHJcbnJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==