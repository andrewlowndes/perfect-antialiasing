(()=>{"use strict";var e={876:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(345);const n=o(r(787)),a=o(r(457)),i=new Float32Array([-.75,-.75,0,.75,.75,-.75]),s=Float32Array.of(...i.slice(2),...i.slice(0,2)),l=Float32Array.of(...i.slice(i.length-2),...i.slice(0,i.length-2)),x=new Float32Array([1,0,0,0,1,0,0,0,1]),f=new Uint16Array([0,1,2]),c=document.getElementById("canvas1"),y=document.getElementById("canvas2"),h=y.getContext("2d");if(!h)throw new Error("Could not initialise graphics :(");const d=2*Math.PI,g=y.width/c.width,u=e=>Math.floor((i[2*f[e]]/2+.5)*y.width),A=e=>Math.floor(y.height-(i[2*f[e]+1]/2+.5)*y.height),b=c.getContext("webgl",{antialias:!1});if(!b)throw new Error("Could not initialise WebGL :(");const R=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,R),b.bufferData(b.ARRAY_BUFFER,i,b.DYNAMIC_DRAW);const v=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,v),b.bufferData(b.ARRAY_BUFFER,s,b.DYNAMIC_DRAW);const m=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,m),b.bufferData(b.ARRAY_BUFFER,l,b.DYNAMIC_DRAW);const F=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,F),b.bufferData(b.ARRAY_BUFFER,x,b.STATIC_DRAW);const p=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,p),b.bufferData(b.ELEMENT_ARRAY_BUFFER,f,b.STATIC_DRAW);const E=b.createShader(b.VERTEX_SHADER);if(b.shaderSource(E,n.default),b.compileShader(E),""!==String(b.getShaderInfoLog(E)).trim())throw new Error(String(b.getShaderInfoLog(E)));const _=b.createShader(b.FRAGMENT_SHADER);if(b.shaderSource(_,a.default),b.compileShader(_),""!==String(b.getShaderInfoLog(_)).trim())throw new Error(String(b.getShaderInfoLog(_)));const B=b.createProgram();if(b.attachShader(B,E),b.attachShader(B,_),b.linkProgram(B),""!==String(b.getProgramInfoLog(B)).trim())throw new Error(String(b.getProgramInfoLog(B)));b.useProgram(B);const M=b.getAttribLocation(B,"pos");b.bindBuffer(b.ARRAY_BUFFER,R),b.vertexAttribPointer(M,2,b.FLOAT,!1,0,0),b.enableVertexAttribArray(M);const P=b.getAttribLocation(B,"prevPos");b.bindBuffer(b.ARRAY_BUFFER,m),b.vertexAttribPointer(P,2,b.FLOAT,!1,0,0),b.enableVertexAttribArray(P);const S=b.getAttribLocation(B,"nextPos");b.bindBuffer(b.ARRAY_BUFFER,v),b.vertexAttribPointer(S,2,b.FLOAT,!1,0,0),b.enableVertexAttribArray(S);const w=b.getAttribLocation(B,"uv");b.bindBuffer(b.ARRAY_BUFFER,F),b.vertexAttribPointer(w,3,b.FLOAT,!1,0,0),b.enableVertexAttribArray(w);const U=b.getUniformLocation(B,"offset");b.uniform1f(U,Math.sqrt(2)/c.width);const D=b.getUniformLocation(B,"screenSize");b.uniform2fv(D,[c.width,c.height]),b.clearColor(1,1,1,1),b.viewport(0,0,c.width,c.height),b.enable(b.DEPTH_TEST);const T=(e,t)=>{const r=2*e;i[r]=t.x,i[r+1]=t.y;const o=(r+2)%l.length;l[o]=t.x,l[o+1]=t.y;const n=(r-2+s.length)%s.length;s[n]=t.x,s[n+1]=t.y},Y={x:1,y:1},L={x:-1,y:-1},I={x:-1,y:-1},C={x:i[0],y:i[1]},O={x:i[2],y:i[3]},N={x:i[4],y:i[5]},z=.001,q=()=>{C.x+=z*Y.x,C.y+=z*Y.y,Math.abs(C.x)>1&&(Y.x*=-1),Math.abs(C.y)>1&&(Y.y*=-1),T(0,C),O.x+=z*L.x,O.y+=z*L.y,Math.abs(O.x)>1&&(L.x*=-1),Math.abs(O.y)>1&&(L.y*=-1),T(1,O),N.x+=z*I.x,N.y+=z*I.y,Math.abs(N.x)>1&&(I.x*=-1),Math.abs(N.y)>1&&(I.y*=-1),T(2,N),(()=>{h.clearRect(0,0,y.width,y.height),h.strokeStyle="#DDDDDD";for(let e=0;e<y.width;e+=g)h.beginPath(),h.moveTo(Math.floor(e),0),h.lineTo(Math.floor(e),y.height),h.stroke();for(let e=0;e<y.height;e+=g)h.beginPath(),h.moveTo(0,Math.floor(e)),h.lineTo(y.width,Math.floor(e)),h.stroke();const e={x:u(0),y:A(0)},t={x:u(1),y:A(1)},r={x:u(2),y:A(2)};h.strokeStyle="white",h.beginPath(),h.moveTo(e.x,e.y),h.lineTo(t.x,t.y),h.lineTo(r.x,r.y),h.closePath(),h.stroke(),h.fillStyle="#AAA";for(let e=g/2;e<y.width;e+=g)for(let t=g/2;t<y.height;t+=g)h.beginPath(),h.arc(e,t,1,0,d),h.fill();h.fillStyle="blue";const o=[e,t,r];for(const e of o)h.beginPath(),h.arc(e.x,e.y,1,0,d),h.fill()})(),b.clear(b.COLOR_BUFFER_BIT),b.bindBuffer(b.ARRAY_BUFFER,R),b.bufferSubData(b.ARRAY_BUFFER,0,i),b.bindBuffer(b.ARRAY_BUFFER,v),b.bufferSubData(b.ARRAY_BUFFER,0,s),b.bindBuffer(b.ARRAY_BUFFER,m),b.bufferSubData(b.ARRAY_BUFFER,0,l),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,p),b.drawElements(b.TRIANGLES,f.length,b.UNSIGNED_SHORT,0),requestAnimationFrame(q)};q()},345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inRange=t.avg=t.max2=t.min2=t.toPrecision2=t.lerp2=t.lerp=t.normalize=t.length=t.equal=t.dot=t.sign=t.abs=t.ceil=t.floor=t.sub=t.adds=t.add=t.divide=t.multiply=t.scale=t.equals=t.determinant2=t.timeAtPos=t.clamp2=t.clamp=void 0,t.clamp=(e,t,r)=>Math.max(Math.min(e,r),t),t.clamp2=(e,r,o)=>({x:t.clamp(e.x,r.x,o.x),y:t.clamp(e.y,r.y,o.y)}),t.timeAtPos=(e,r,o)=>r?t.clamp((o-e)/r,0,1):0,t.determinant2=(e,t)=>e.x*t.y-e.y*t.x,t.equals=(e,t)=>e.x===t.x&&e.y===t.y,t.scale=(e,t)=>({x:t*e.x,y:t*e.y}),t.multiply=(e,t)=>({x:t.x*e.x,y:t.y*e.y}),t.divide=(e,t)=>({x:e.x/t.x,y:e.y/t.y}),t.add=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),t.adds=(e,t)=>({x:e.x+t,y:e.y+t}),t.sub=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),t.floor=e=>({x:Math.floor(e.x),y:Math.floor(e.y)}),t.ceil=e=>({x:Math.ceil(e.x),y:Math.ceil(e.y)}),t.abs=e=>({x:Math.abs(e.x),y:Math.abs(e.y)}),t.sign=e=>({x:Math.sign(e.x),y:Math.sign(e.y)}),t.dot=(e,t)=>e.x*t.x+e.y*t.y,t.equal=(e,t)=>e.x==t.x&&e.y==t.y,t.length=e=>Math.sqrt(e.x*e.x+e.y*e.y),t.normalize=e=>t.scale(e,1/t.length(e)),t.lerp=(e,t,r)=>e*(1-r)+t*r,t.lerp2=(e,r,o)=>({x:t.lerp(e.x,r.x,o),y:t.lerp(e.y,r.y,o)}),t.toPrecision2=(e,t)=>(e.x=parseFloat(e.x.toPrecision(t)),e.y=parseFloat(e.y.toPrecision(t)),e),t.min2=(e,...t)=>{const r={x:e.x,y:e.y};return t.forEach((e=>{r.x=Math.min(r.x,e.x),r.y=Math.min(r.y,e.y)})),r},t.max2=(e,...t)=>{const r={x:e.x,y:e.y};return t.forEach((e=>{r.x=Math.max(r.x,e.x),r.y=Math.max(r.y,e.y)})),r},t.avg=e=>{const t=e.reduce(((e,t)=>(e.x+=t.x,e.y+=t.y,e)),{x:0,y:0});return t.x/=e.length,t.y/=e.length,t},t.inRange=(e,t,r)=>!(e.x>r.x||e.x<t.x||e.y>r.y||e.y<t.y)},457:e=>{e.exports="precision highp float;\r\n\r\nvarying vec3 vUv;\r\nvarying vec4 bounds;\r\n\r\nvoid main(void) {\r\n  if (gl_FragCoord.x < bounds.x || gl_FragCoord.y < bounds.y || gl_FragCoord.x > bounds.z || gl_FragCoord.y > bounds.w) {\r\n    discard;\r\n  }\r\n\r\n  gl_FragColor = vec4(vUv, 1.0);\r\n}"},787:e=>{e.exports="uniform vec2 screenSize;\r\nuniform float offset;\r\n\r\nattribute vec2 pos;\r\nattribute vec2 prevPos;\r\nattribute vec2 nextPos;\r\nattribute vec3 uv;\r\n\r\nvarying vec3 vUv;\r\nvarying vec4 bounds;\r\n\r\nvoid main(void) {\r\n    // determine a new vertex position such that it covers the neighbour pixel centers\r\n    vec2 a = normalize(pos - prevPos);\r\n    vec2 b = normalize(pos - nextPos);\r\n    float angle = sqrt((1.0 - dot(a, b)) / 2.0);\r\n\r\n    vec2 vecPos = pos + normalize(a + b) * (offset / angle);\r\n\r\n    // compute a bounding box and pass to the fragment shader so we don't render outside the inflated triangle bounds\r\n    bounds = screenSize.xyxy * (vec4(min(min(pos, prevPos), nextPos), max(max(pos, prevPos), nextPos)) / 2.0 + 0.5) + vec4(-0.5, -0.5, 0.5, 0.5);\r\n\r\n    // TODO: offset the uv so it is still inline with the original triangle position?\r\n    vUv = uv;\r\n\r\n    gl_Position = vec4(vecPos, 0.0, 1.0);\r\n}"}},t={};!function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}(876)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvZGVtb3MvY29uc2VydmF0aXZlUmFzdGVyaXNhdGlvbi50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvbWF0aHMvY29tbW9uLnRzIiwid2VicGFjazovL3N1YnBpeGVsLXJlbmRlcmluZy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJfX2VzTW9kdWxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb25zZXJ2YXRpdmVfdmVydF8xIiwiY29uc2VydmF0aXZlX2ZyYWdfMSIsInZlcnRpY2VzIiwiRmxvYXQzMkFycmF5IiwibmV4dFBvcyIsIm9mIiwic2xpY2UiLCJwcmV2UG9zIiwibGVuZ3RoIiwidXYiLCJpbmRpY2VzIiwiVWludDE2QXJyYXkiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2FudmFzMiIsImciLCJnZXRDb250ZXh0IiwiRXJyb3IiLCJwaTIiLCJNYXRoIiwiUEkiLCJjYW52YXNTY2FsZSIsIndpZHRoIiwiZ2V0WCIsImluZGV4IiwiZmxvb3IiLCJnZXRZIiwiaGVpZ2h0IiwiZ2wiLCJhbnRpYWxpYXMiLCJwb3NCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsIkRZTkFNSUNfRFJBVyIsIm5leHRQb3NCdWZmZXIiLCJwcmV2UG9zQnVmZmVyIiwidXZCdWZmZXIiLCJTVEFUSUNfRFJBVyIsImluZGV4QnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJ2ZXJ0U2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInNoYWRlclNvdXJjZSIsImRlZmF1bHQiLCJjb21waWxlU2hhZGVyIiwiU3RyaW5nIiwiZ2V0U2hhZGVySW5mb0xvZyIsInRyaW0iLCJmcmFnU2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwic2hhZGVyUHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInBvc0F0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwicHJldlBvc0F0dHIiLCJuZXh0UG9zQXR0ciIsInV2QXR0ciIsIm9mZnNldFVuaWZvcm0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJ1bmlmb3JtMWYiLCJzcXJ0Iiwic2NyZWVuU2l6ZVVuaWZvcm0iLCJ1bmlmb3JtMmZ2IiwiY2xlYXJDb2xvciIsInZpZXdwb3J0IiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsInNldFZlcnRleFBvc2l0aW9uIiwicG9zIiwic3RhcnRJbmRleCIsIngiLCJ5IiwicHJldlBvc1N0YXJ0SW5kZXgiLCJuZXh0UG9zU3RhcnRJbmRleCIsInAxRGlyIiwicDJEaXIiLCJwM0RpciIsIm5ld1AxIiwibmV3UDIiLCJuZXdQMyIsInN0ZXAiLCJhbmltYXRlIiwiYWJzIiwiY2xlYXJSZWN0Iiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJwMSIsInAyIiwicDMiLCJjbG9zZVBhdGgiLCJmaWxsU3R5bGUiLCJhcmMiLCJmaWxsIiwicG9pbnRzIiwicG9pbnQiLCJkcmF3MkQiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJidWZmZXJTdWJEYXRhIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwiVU5TSUdORURfU0hPUlQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpblJhbmdlIiwiYXZnIiwibWF4MiIsIm1pbjIiLCJ0b1ByZWNpc2lvbjIiLCJsZXJwMiIsImxlcnAiLCJub3JtYWxpemUiLCJlcXVhbCIsImRvdCIsInNpZ24iLCJjZWlsIiwic3ViIiwiYWRkcyIsImFkZCIsImRpdmlkZSIsIm11bHRpcGx5Iiwic2NhbGUiLCJlcXVhbHMiLCJkZXRlcm1pbmFudDIiLCJ0aW1lQXRQb3MiLCJjbGFtcDIiLCJjbGFtcCIsImEiLCJtaW4iLCJtYXgiLCJzdGFydFBvcyIsImRpciIsIm5ld1BvcyIsImIiLCJ0IiwiYW1vdW50IiwicGFyc2VGbG9hdCIsInRvUHJlY2lzaW9uIiwib2JqIiwib2JqcyIsInJlc3VsdCIsImZvckVhY2giLCJhcnIiLCJzdW0iLCJyZWR1Y2UiLCJhY2MiLCJpdGVtIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwibWFwcGluZ3MiOiI4Q0FDQSxJQUFJQSxFQUFtQkMsTUFBUUEsS0FBS0QsaUJBQW9CLFNBQVVFLEdBQzlELE9BQVFBLEdBQU9BLEVBQUlDLFdBQWNELEVBQU0sQ0FBRSxRQUFXQSxJQUV4REUsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sSUFDckMsRUFBUSxLQUF6QixNQUNNQyxFQUFzQlIsRUFBZ0IsRUFBUSxNQUM5Q1MsRUFBc0JULEVBQWdCLEVBQVEsTUFFOUNVLEVBQVcsSUFBSUMsYUFBYSxFQUM3QixLQUFPLElBQ1IsRUFBSyxJQUVMLEtBQU8sTUFFTEMsRUFBVUQsYUFBYUUsTUFBTUgsRUFBU0ksTUFQekIsTUFPK0NKLEVBQVNJLE1BQU0sRUFQOUQsSUFTYkMsRUFBVUosYUFBYUUsTUFBTUgsRUFBU0ksTUFBTUosRUFBU00sT0FUeEMsTUFTaUVOLEVBQVNJLE1BQU0sRUFBR0osRUFBU00sT0FUNUYsSUFVYkMsRUFBSyxJQUFJTixhQUFhLENBQ3hCLEVBQUssRUFBSyxFQUNWLEVBQUssRUFBSyxFQUNWLEVBQUssRUFBSyxJQUVS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eEUsRUFBR3NFLEVBQUl0RSxHQUNsQ3dFLEVBQU92RSxFQUFJOUQsS0FBSzBILElBQUlXLEVBQU92RSxFQUFHcUUsRUFBSXJFLE1BRS9CdUUsR0FhWDNKLEVBQVF3SCxJQVZLcUMsSUFDVCxNQUFNQyxFQUFNRCxFQUFJRSxRQUFPLENBQUNDLEVBQUtDLEtBQ3pCRCxFQUFJN0UsR0FBSzhFLEVBQUs5RSxFQUNkNkUsRUFBSTVFLEdBQUs2RSxFQUFLN0UsRUFDUDRFLElBQ1IsQ0FBRTdFLEVBQUcsRUFBR0MsRUFBRyxJQUdkLE9BRkEwRSxFQUFJM0UsR0FBSzBFLEVBQUluSixPQUNib0osRUFBSTFFLEdBQUt5RSxFQUFJbkosT0FDTm9KLEdBTVg5SixFQUFRdUgsUUFIUSxDQUFDakIsRUFBSXlDLEVBQUtDLE1BQ2IxQyxFQUFHbkIsRUFBSTZELEVBQUk3RCxHQUFLbUIsRUFBR25CLEVBQUk0RCxFQUFJNUQsR0FBS21CLEVBQUdsQixFQUFJNEQsRUFBSTVELEdBQUtrQixFQUFHbEIsRUFBSTJELEVBQUkzRCxJLDR3Q0N2RnBFOEUsRUFBMkIsSUFHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYXJLLFFBR3JCLElBQUl1SyxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqRHBLLFFBQVMsSUFPVixPQUhBd0ssRUFBb0JKLEdBQVVLLEtBQUtGLEVBQU92SyxRQUFTdUssRUFBUUEsRUFBT3ZLLFFBQVNtSyxHQUdwRUksRUFBT3ZLLFFDbEJXbUssQ0FBb0IsTSIsImZpbGUiOiJjb25zZXJ2YXRpdmVfcmFzdGVyaXNhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL21hdGhzL2NvbW1vblwiKTtcclxuY29uc3QgY29uc2VydmF0aXZlX3ZlcnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vc2hhZGVycy9jb25zZXJ2YXRpdmUudmVydFwiKSk7XHJcbmNvbnN0IGNvbnNlcnZhdGl2ZV9mcmFnXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL3NoYWRlcnMvY29uc2VydmF0aXZlLmZyYWdcIikpO1xyXG5jb25zdCB2ZXJ0ZXhTaXplID0gMjtcclxuY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgIC0wLjc1LCAtMC43NSxcclxuICAgIDAuMCwgMC43NSxcclxuICAgIC8vLTAuNSwgLTAuMixcclxuICAgIDAuNzUsIC0wLjc1XHJcbl0pO1xyXG5jb25zdCBuZXh0UG9zID0gRmxvYXQzMkFycmF5Lm9mKC4uLnZlcnRpY2VzLnNsaWNlKHZlcnRleFNpemUpLCAuLi52ZXJ0aWNlcy5zbGljZSgwLCB2ZXJ0ZXhTaXplKSk7XHJcbjtcclxuY29uc3QgcHJldlBvcyA9IEZsb2F0MzJBcnJheS5vZiguLi52ZXJ0aWNlcy5zbGljZSh2ZXJ0aWNlcy5sZW5ndGggLSB2ZXJ0ZXhTaXplKSwgLi4udmVydGljZXMuc2xpY2UoMCwgdmVydGljZXMubGVuZ3RoIC0gdmVydGV4U2l6ZSkpO1xyXG5jb25zdCB1diA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgMS4wLCAwLjAsIDAuMCxcclxuICAgIDAuMCwgMS4wLCAwLjAsXHJcbiAgICAwLjAsIDAuMCwgMS4wXHJcbl0pO1xyXG5jb25zdCBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyXSk7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMxJyk7XHJcbmNvbnN0IGNhbnZhczIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzMicpO1xyXG5jb25zdCBnID0gY2FudmFzMi5nZXRDb250ZXh0KCcyZCcpO1xyXG5pZiAoIWcpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGluaXRpYWxpc2UgZ3JhcGhpY3MgOignKTtcclxufVxyXG5jb25zdCBwaTIgPSBNYXRoLlBJICogMjtcclxuY29uc3QgY2FudmFzU2NhbGUgPSBjYW52YXMyLndpZHRoIC8gY2FudmFzLndpZHRoO1xyXG5jb25zdCBwaXhlbE9mZnNldCA9IGNhbnZhc1NjYWxlIC8gMjtcclxuY29uc3QgY2FsY3VsYXRlT2Zmc2V0UG9zaXRpb24gPSAocG9zaXRpb24sIHByZXYsIG5leHQsIG9mZnNldCkgPT4ge1xyXG4gICAgY29uc3QgYSA9IGNvbW1vbl8xLm5vcm1hbGl6ZShjb21tb25fMS5zdWIocG9zaXRpb24sIHByZXYpKTtcclxuICAgIGNvbnN0IGIgPSBjb21tb25fMS5ub3JtYWxpemUoY29tbW9uXzEuc3ViKHBvc2l0aW9uLCBuZXh0KSk7XHJcbiAgICBjb25zdCBvdXRWZWN0b3IgPSBjb21tb25fMS5ub3JtYWxpemUoY29tbW9uXzEuYWRkKGEsIGIpKTtcclxuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5zcXJ0KCgxLjAgLSBjb21tb25fMS5kb3QoYSwgYikpIC8gMi4wKTtcclxuICAgIHJldHVybiBjb21tb25fMS5hZGQocG9zaXRpb24sIGNvbW1vbl8xLnNjYWxlKG91dFZlY3Rvciwgb2Zmc2V0IC8gYW5nbGUpKTtcclxufTtcclxuY29uc3QgZ2V0WCA9IChpbmRleCkgPT4gTWF0aC5mbG9vcigodmVydGljZXNbaW5kaWNlc1tpbmRleF0gKiB2ZXJ0ZXhTaXplXSAvIDIgKyAwLjUpICogY2FudmFzMi53aWR0aCk7XHJcbmNvbnN0IGdldFkgPSAoaW5kZXgpID0+IE1hdGguZmxvb3IoY2FudmFzMi5oZWlnaHQgLSAodmVydGljZXNbaW5kaWNlc1tpbmRleF0gKiB2ZXJ0ZXhTaXplICsgMV0gLyAyICsgMC41KSAqIGNhbnZhczIuaGVpZ2h0KTtcclxuY29uc3QgZHJhdzJEID0gKCkgPT4ge1xyXG4gICAgZy5jbGVhclJlY3QoMCwgMCwgY2FudmFzMi53aWR0aCwgY2FudmFzMi5oZWlnaHQpO1xyXG4gICAgLy9kcmF3IGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGxpbmVzIHNvIHdlIGNhbiBzZWUgdGhlIHBpeGVsIG91dGxpbmVzXHJcbiAgICBnLnN0cm9rZVN0eWxlID0gJyNEREREREQnO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBjYW52YXMyLndpZHRoOyB4ICs9IGNhbnZhc1NjYWxlKSB7XHJcbiAgICAgICAgZy5iZWdpblBhdGgoKTtcclxuICAgICAgICBnLm1vdmVUbyhNYXRoLmZsb29yKHgpLCAwKTtcclxuICAgICAgICBnLmxpbmVUbyhNYXRoLmZsb29yKHgpLCBjYW52YXMyLmhlaWdodCk7XHJcbiAgICAgICAgZy5zdHJva2UoKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2FudmFzMi5oZWlnaHQ7IHkgKz0gY2FudmFzU2NhbGUpIHtcclxuICAgICAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGcubW92ZVRvKDAsIE1hdGguZmxvb3IoeSkpO1xyXG4gICAgICAgIGcubGluZVRvKGNhbnZhczIud2lkdGgsIE1hdGguZmxvb3IoeSkpO1xyXG4gICAgICAgIGcuc3Ryb2tlKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwMSA9IHsgeDogZ2V0WCgwKSwgeTogZ2V0WSgwKSB9O1xyXG4gICAgY29uc3QgcDIgPSB7IHg6IGdldFgoMSksIHk6IGdldFkoMSkgfTtcclxuICAgIGNvbnN0IHAzID0geyB4OiBnZXRYKDIpLCB5OiBnZXRZKDIpIH07XHJcbiAgICAvL2RyYXcgdGhlIG1haW4gdHJpYW5nbGVcclxuICAgIGcuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xyXG4gICAgZy5iZWdpblBhdGgoKTtcclxuICAgIGcubW92ZVRvKHAxLngsIHAxLnkpO1xyXG4gICAgZy5saW5lVG8ocDIueCwgcDIueSk7XHJcbiAgICBnLmxpbmVUbyhwMy54LCBwMy55KTtcclxuICAgIGcuY2xvc2VQYXRoKCk7XHJcbiAgICBnLnN0cm9rZSgpO1xyXG4gICAgLy9jYWxjdWxhdGUgYW5kIHBsb3QgYSBuZXcgcHJvamVjdGVkIGN1cnZlIHNvIHdlIGNhbiBjb21wYXJlIHdpdGggdGhlIHdlYmdsIHJlbmRlcmVkIHJlc3VsdFxyXG4gICAgLypcclxuICAgIGNvbnN0IG5leHRQMSA9IGNhbGN1bGF0ZU9mZnNldFBvc2l0aW9uKHAzLCBwMSwgcDIsIHBpeGVsT2Zmc2V0KTtcclxuICAgIGNvbnN0IG5leHRQMiA9IGNhbGN1bGF0ZU9mZnNldFBvc2l0aW9uKHAxLCBwMiwgcDMsIHBpeGVsT2Zmc2V0KTtcclxuICAgIGNvbnN0IG5leHRQMyA9IGNhbGN1bGF0ZU9mZnNldFBvc2l0aW9uKHAyLCBwMywgcDEsIHBpeGVsT2Zmc2V0KTtcclxuICBcclxuICAgIGcuc3Ryb2tlU3R5bGUgPSAnZ3JlZW4nO1xyXG4gICAgZy5iZWdpblBhdGgoKTtcclxuICAgIGcubW92ZVRvKG5leHRQMS54LCBuZXh0UDEueSk7XHJcbiAgICBnLmxpbmVUbyhuZXh0UDIueCwgbmV4dFAyLnkpO1xyXG4gICAgZy5saW5lVG8obmV4dFAzLngsIG5leHRQMy55KTtcclxuICAgIGcuY2xvc2VQYXRoKCk7XHJcbiAgICBnLnN0cm9rZSgpO1xyXG4gICAgKi9cclxuICAgIC8vZHJhdyBhIGRvdCBhdCBlYWNoIGluZmxhdGVkIHBpeGVsIGNlbnRlclxyXG4gICAgZy5maWxsU3R5bGUgPSAnI0FBQSc7XHJcbiAgICBmb3IgKGxldCB4ID0gY2FudmFzU2NhbGUgLyAyOyB4IDwgY2FudmFzMi53aWR0aDsgeCArPSBjYW52YXNTY2FsZSkge1xyXG4gICAgICAgIGZvciAobGV0IHkgPSBjYW52YXNTY2FsZSAvIDI7IHkgPCBjYW52YXMyLmhlaWdodDsgeSArPSBjYW52YXNTY2FsZSkge1xyXG4gICAgICAgICAgICBnLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBnLmFyYyh4LCB5LCAxLCAwLCBwaTIpO1xyXG4gICAgICAgICAgICBnLmZpbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2RyYXcgdGhlIGhhbmRsZXNcclxuICAgIGcuZmlsbFN0eWxlID0gJ2JsdWUnO1xyXG4gICAgY29uc3QgcmFkaXVzID0gMTtcclxuICAgIGNvbnN0IHBvaW50cyA9IFtwMSwgcDIsIHAzXTtcclxuICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7XHJcbiAgICAgICAgZy5iZWdpblBhdGgoKTtcclxuICAgICAgICBnLmFyYyhwb2ludC54LCBwb2ludC55LCByYWRpdXMsIDAsIHBpMik7XHJcbiAgICAgICAgZy5maWxsKCk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pO1xyXG5pZiAoIWdsKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBpbml0aWFsaXNlIFdlYkdMIDooJyk7XHJcbn1cclxuLy8gQ3JlYXRlIGFuIGVtcHR5IGJ1ZmZlciBvYmplY3QgdG8gc3RvcmUgdmVydGV4IGJ1ZmZlclxyXG5jb25zdCBwb3NCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc0J1ZmZlcik7XHJcbmdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlcywgZ2wuRFlOQU1JQ19EUkFXKTtcclxuY29uc3QgbmV4dFBvc0J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbmV4dFBvc0J1ZmZlcik7XHJcbmdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXh0UG9zLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG5jb25zdCBwcmV2UG9zQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbmdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwcmV2UG9zQnVmZmVyKTtcclxuZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHByZXZQb3MsIGdsLkRZTkFNSUNfRFJBVyk7XHJcbmNvbnN0IHV2QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbmdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB1dkJ1ZmZlcik7XHJcbmdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB1diwgZ2wuU1RBVElDX0RSQVcpO1xyXG5jb25zdCBpbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbmdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGluZGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcclxuLy8gQ3JlYXRlIGEgdmVydGV4IHNoYWRlciBvYmplY3RcclxuY29uc3QgdmVydFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcclxuZ2wuc2hhZGVyU291cmNlKHZlcnRTaGFkZXIsIGNvbnNlcnZhdGl2ZV92ZXJ0XzEuZGVmYXVsdCk7XHJcbmdsLmNvbXBpbGVTaGFkZXIodmVydFNoYWRlcik7XHJcbmlmIChTdHJpbmcoZ2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0U2hhZGVyKSkudHJpbSgpICE9PSAnJykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFN0cmluZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHZlcnRTaGFkZXIpKSk7XHJcbn1cclxuLy8gQ3JlYXRlIGZyYWdtZW50IHNoYWRlciBvYmplY3RcclxuY29uc3QgZnJhZ1NoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5GUkFHTUVOVF9TSEFERVIpO1xyXG5nbC5zaGFkZXJTb3VyY2UoZnJhZ1NoYWRlciwgY29uc2VydmF0aXZlX2ZyYWdfMS5kZWZhdWx0KTtcclxuZ2wuY29tcGlsZVNoYWRlcihmcmFnU2hhZGVyKTtcclxuaWYgKFN0cmluZyhnbC5nZXRTaGFkZXJJbmZvTG9nKGZyYWdTaGFkZXIpKS50cmltKCkgIT09ICcnKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoU3RyaW5nKGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ1NoYWRlcikpKTtcclxufVxyXG4vLyBDcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbSBvYmplY3QgdG8gc3RvcmVcclxuLy8gdGhlIGNvbWJpbmVkIHNoYWRlciBwcm9ncmFtXHJcbmNvbnN0IHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbmdsLmF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCB2ZXJ0U2hhZGVyKTtcclxuZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZyYWdTaGFkZXIpO1xyXG5nbC5saW5rUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcclxuaWYgKFN0cmluZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhzaGFkZXJQcm9ncmFtKSkudHJpbSgpICE9PSAnJykge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFN0cmluZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhzaGFkZXJQcm9ncmFtKSkpO1xyXG59XHJcbi8vIFVzZSB0aGUgY29tYmluZWQgc2hhZGVyIHByb2dyYW0gb2JqZWN0XHJcbmdsLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbSk7XHJcbmNvbnN0IHBvc0F0dHIgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBcInBvc1wiKTtcclxuZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc0J1ZmZlcik7XHJcbmdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zQXR0ciwgdmVydGV4U2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zQXR0cik7XHJcbi8vIG5lZWQgdG8gZHVwbGljYXRlIHRoZSB2ZXJ0ZXggYnVmZmVycyBqdXN0IHRvIGFjY2VzcyB0aGUgb3RoZXIgdHJpYW5nbGUgcG9zaXRpb25zIDooXHJcbmNvbnN0IHByZXZQb3NBdHRyID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJwcmV2UG9zXCIpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcHJldlBvc0J1ZmZlcik7XHJcbmdsLnZlcnRleEF0dHJpYlBvaW50ZXIocHJldlBvc0F0dHIsIHZlcnRleFNpemUsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHByZXZQb3NBdHRyKTtcclxuY29uc3QgbmV4dFBvc0F0dHIgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBcIm5leHRQb3NcIik7XHJcbmdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBuZXh0UG9zQnVmZmVyKTtcclxuZ2wudmVydGV4QXR0cmliUG9pbnRlcihuZXh0UG9zQXR0ciwgdmVydGV4U2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobmV4dFBvc0F0dHIpO1xyXG5jb25zdCB1dkF0dHIgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBcInV2XCIpO1xyXG5nbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdXZCdWZmZXIpO1xyXG5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHV2QXR0ciwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodXZBdHRyKTtcclxuY29uc3Qgb2Zmc2V0VW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAnb2Zmc2V0Jyk7XHJcbmdsLnVuaWZvcm0xZihvZmZzZXRVbmlmb3JtLCBNYXRoLnNxcnQoMikgLyBjYW52YXMud2lkdGgpO1xyXG5jb25zdCBzY3JlZW5TaXplVW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAnc2NyZWVuU2l6ZScpO1xyXG5nbC51bmlmb3JtMmZ2KHNjcmVlblNpemVVbmlmb3JtLCBbY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0XSk7XHJcbi8vaW5pdFxyXG5nbC5jbGVhckNvbG9yKDEuMCwgMS4wLCAxLjAsIDEuMCk7XHJcbmdsLnZpZXdwb3J0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbmdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuLy8gZHJhd1xyXG5jb25zdCBkcmF3R0wgPSAoKSA9PiB7XHJcbiAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcclxuICAgIC8vdXBsb2FkIG5ldyBwb3NpdGlvbiBkYXRhXHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zQnVmZmVyKTtcclxuICAgIGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCAwLCB2ZXJ0aWNlcyk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbmV4dFBvc0J1ZmZlcik7XHJcbiAgICBnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgbmV4dFBvcyk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcHJldlBvc0J1ZmZlcik7XHJcbiAgICBnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgcHJldlBvcyk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpbmRpY2VzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG59O1xyXG4vL2FuaW1hdGUgdGhlIHRvcCB2ZXJ0ZXggYmV0d2VlbiAtMSBhbmQgMSBhbmQgdHJpZ2dlciB0byByZWRyYXdcclxuY29uc3Qgc2V0VmVydGV4UG9zaXRpb24gPSAoaW5kZXgsIHBvcykgPT4ge1xyXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IGluZGV4ICogdmVydGV4U2l6ZTtcclxuICAgIHZlcnRpY2VzW3N0YXJ0SW5kZXhdID0gcG9zLng7XHJcbiAgICB2ZXJ0aWNlc1tzdGFydEluZGV4ICsgMV0gPSBwb3MueTtcclxuICAgIGNvbnN0IHByZXZQb3NTdGFydEluZGV4ID0gKHN0YXJ0SW5kZXggKyB2ZXJ0ZXhTaXplKSAlIHByZXZQb3MubGVuZ3RoO1xyXG4gICAgcHJldlBvc1twcmV2UG9zU3RhcnRJbmRleF0gPSBwb3MueDtcclxuICAgIHByZXZQb3NbcHJldlBvc1N0YXJ0SW5kZXggKyAxXSA9IHBvcy55O1xyXG4gICAgY29uc3QgbmV4dFBvc1N0YXJ0SW5kZXggPSAoc3RhcnRJbmRleCAtIHZlcnRleFNpemUgKyBuZXh0UG9zLmxlbmd0aCkgJSBuZXh0UG9zLmxlbmd0aDtcclxuICAgIG5leHRQb3NbbmV4dFBvc1N0YXJ0SW5kZXhdID0gcG9zLng7XHJcbiAgICBuZXh0UG9zW25leHRQb3NTdGFydEluZGV4ICsgMV0gPSBwb3MueTtcclxufTtcclxuY29uc3QgcDFEaXIgPSB7IHg6IDEsIHk6IDEgfTtcclxuY29uc3QgcDJEaXIgPSB7IHg6IC0xLCB5OiAtMSB9O1xyXG5jb25zdCBwM0RpciA9IHsgeDogLTEsIHk6IC0xIH07XHJcbmNvbnN0IG5ld1AxID0geyB4OiB2ZXJ0aWNlc1swXSwgeTogdmVydGljZXNbMV0gfTtcclxuY29uc3QgbmV3UDIgPSB7IHg6IHZlcnRpY2VzWzJdLCB5OiB2ZXJ0aWNlc1szXSB9O1xyXG5jb25zdCBuZXdQMyA9IHsgeDogdmVydGljZXNbNF0sIHk6IHZlcnRpY2VzWzVdIH07XHJcbmNvbnN0IHN0ZXAgPSAwLjAwMTtcclxuY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcclxuICAgIG5ld1AxLnggKz0gc3RlcCAqIHAxRGlyLng7XHJcbiAgICBuZXdQMS55ICs9IHN0ZXAgKiBwMURpci55O1xyXG4gICAgaWYgKE1hdGguYWJzKG5ld1AxLngpID4gMSlcclxuICAgICAgICBwMURpci54ICo9IC0xO1xyXG4gICAgaWYgKE1hdGguYWJzKG5ld1AxLnkpID4gMSlcclxuICAgICAgICBwMURpci55ICo9IC0xO1xyXG4gICAgc2V0VmVydGV4UG9zaXRpb24oMCwgbmV3UDEpO1xyXG4gICAgbmV3UDIueCArPSBzdGVwICogcDJEaXIueDtcclxuICAgIG5ld1AyLnkgKz0gc3RlcCAqIHAyRGlyLnk7XHJcbiAgICBpZiAoTWF0aC5hYnMobmV3UDIueCkgPiAxKVxyXG4gICAgICAgIHAyRGlyLnggKj0gLTE7XHJcbiAgICBpZiAoTWF0aC5hYnMobmV3UDIueSkgPiAxKVxyXG4gICAgICAgIHAyRGlyLnkgKj0gLTE7XHJcbiAgICBzZXRWZXJ0ZXhQb3NpdGlvbigxLCBuZXdQMik7XHJcbiAgICBuZXdQMy54ICs9IHN0ZXAgKiBwM0Rpci54O1xyXG4gICAgbmV3UDMueSArPSBzdGVwICogcDNEaXIueTtcclxuICAgIGlmIChNYXRoLmFicyhuZXdQMy54KSA+IDEpXHJcbiAgICAgICAgcDNEaXIueCAqPSAtMTtcclxuICAgIGlmIChNYXRoLmFicyhuZXdQMy55KSA+IDEpXHJcbiAgICAgICAgcDNEaXIueSAqPSAtMTtcclxuICAgIHNldFZlcnRleFBvc2l0aW9uKDIsIG5ld1AzKTtcclxuICAgIGRyYXcyRCgpO1xyXG4gICAgZHJhd0dMKCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcbn07XHJcbmFuaW1hdGUoKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5pblJhbmdlID0gZXhwb3J0cy5hdmcgPSBleHBvcnRzLm1heDIgPSBleHBvcnRzLm1pbjIgPSBleHBvcnRzLnRvUHJlY2lzaW9uMiA9IGV4cG9ydHMubGVycDIgPSBleHBvcnRzLmxlcnAgPSBleHBvcnRzLm5vcm1hbGl6ZSA9IGV4cG9ydHMubGVuZ3RoID0gZXhwb3J0cy5lcXVhbCA9IGV4cG9ydHMuZG90ID0gZXhwb3J0cy5zaWduID0gZXhwb3J0cy5hYnMgPSBleHBvcnRzLmNlaWwgPSBleHBvcnRzLmZsb29yID0gZXhwb3J0cy5zdWIgPSBleHBvcnRzLmFkZHMgPSBleHBvcnRzLmFkZCA9IGV4cG9ydHMuZGl2aWRlID0gZXhwb3J0cy5tdWx0aXBseSA9IGV4cG9ydHMuc2NhbGUgPSBleHBvcnRzLmVxdWFscyA9IGV4cG9ydHMuZGV0ZXJtaW5hbnQyID0gZXhwb3J0cy50aW1lQXRQb3MgPSBleHBvcnRzLmNsYW1wMiA9IGV4cG9ydHMuY2xhbXAgPSB2b2lkIDA7XHJcbmNvbnN0IGNsYW1wID0gKGEsIG1pbiwgbWF4KSA9PiBNYXRoLm1heChNYXRoLm1pbihhLCBtYXgpLCBtaW4pO1xyXG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XHJcbmNvbnN0IGNsYW1wMiA9IChhLCBtaW4sIG1heCkgPT4gKHsgeDogZXhwb3J0cy5jbGFtcChhLngsIG1pbi54LCBtYXgueCksIHk6IGV4cG9ydHMuY2xhbXAoYS55LCBtaW4ueSwgbWF4LnkpIH0pO1xyXG5leHBvcnRzLmNsYW1wMiA9IGNsYW1wMjtcclxuY29uc3QgdGltZUF0UG9zID0gKHN0YXJ0UG9zLCBkaXIsIG5ld1BvcykgPT4gZGlyID8gZXhwb3J0cy5jbGFtcCgobmV3UG9zIC0gc3RhcnRQb3MpIC8gZGlyLCAwLCAxKSA6IDA7XHJcbmV4cG9ydHMudGltZUF0UG9zID0gdGltZUF0UG9zO1xyXG5jb25zdCBkZXRlcm1pbmFudDIgPSAocDEsIHAyKSA9PiAocDEueCAqIHAyLnkpIC0gKHAxLnkgKiBwMi54KTtcclxuZXhwb3J0cy5kZXRlcm1pbmFudDIgPSBkZXRlcm1pbmFudDI7XHJcbmNvbnN0IGVxdWFscyA9IChhLCBiKSA9PiBhLnggPT09IGIueCAmJiBhLnkgPT09IGIueTtcclxuZXhwb3J0cy5lcXVhbHMgPSBlcXVhbHM7XHJcbmNvbnN0IHNjYWxlID0gKHAxLCBhKSA9PiAoeyB4OiBhICogcDEueCwgeTogYSAqIHAxLnkgfSk7XHJcbmV4cG9ydHMuc2NhbGUgPSBzY2FsZTtcclxuY29uc3QgbXVsdGlwbHkgPSAocDEsIHAyKSA9PiAoeyB4OiBwMi54ICogcDEueCwgeTogcDIueSAqIHAxLnkgfSk7XHJcbmV4cG9ydHMubXVsdGlwbHkgPSBtdWx0aXBseTtcclxuY29uc3QgZGl2aWRlID0gKHAxLCBwMikgPT4gKHsgeDogcDEueCAvIHAyLngsIHk6IHAxLnkgLyBwMi55IH0pO1xyXG5leHBvcnRzLmRpdmlkZSA9IGRpdmlkZTtcclxuY29uc3QgYWRkID0gKHAxLCBwMikgPT4gKHsgeDogcDEueCArIHAyLngsIHk6IHAxLnkgKyBwMi55IH0pO1xyXG5leHBvcnRzLmFkZCA9IGFkZDtcclxuY29uc3QgYWRkcyA9IChwMSwgYSkgPT4gKHsgeDogcDEueCArIGEsIHk6IHAxLnkgKyBhIH0pO1xyXG5leHBvcnRzLmFkZHMgPSBhZGRzO1xyXG5jb25zdCBzdWIgPSAocDEsIHAyKSA9PiAoeyB4OiBwMS54IC0gcDIueCwgeTogcDEueSAtIHAyLnkgfSk7XHJcbmV4cG9ydHMuc3ViID0gc3ViO1xyXG5jb25zdCBmbG9vciA9IChwMSkgPT4gKHsgeDogTWF0aC5mbG9vcihwMS54KSwgeTogTWF0aC5mbG9vcihwMS55KSB9KTtcclxuZXhwb3J0cy5mbG9vciA9IGZsb29yO1xyXG5jb25zdCBjZWlsID0gKHAxKSA9PiAoeyB4OiBNYXRoLmNlaWwocDEueCksIHk6IE1hdGguY2VpbChwMS55KSB9KTtcclxuZXhwb3J0cy5jZWlsID0gY2VpbDtcclxuY29uc3QgYWJzID0gKHAxKSA9PiAoeyB4OiBNYXRoLmFicyhwMS54KSwgeTogTWF0aC5hYnMocDEueSkgfSk7XHJcbmV4cG9ydHMuYWJzID0gYWJzO1xyXG5jb25zdCBzaWduID0gKHAxKSA9PiAoeyB4OiBNYXRoLnNpZ24ocDEueCksIHk6IE1hdGguc2lnbihwMS55KSB9KTtcclxuZXhwb3J0cy5zaWduID0gc2lnbjtcclxuY29uc3QgZG90ID0gKHAxLCBwMikgPT4gcDEueCAqIHAyLnggKyBwMS55ICogcDIueTtcclxuZXhwb3J0cy5kb3QgPSBkb3Q7XHJcbmNvbnN0IGVxdWFsID0gKHAxLCBwMikgPT4gcDEueCA9PSBwMi54ICYmIHAxLnkgPT0gcDIueTtcclxuZXhwb3J0cy5lcXVhbCA9IGVxdWFsO1xyXG5jb25zdCBsZW5ndGggPSAocDEpID0+IE1hdGguc3FydChwMS54ICogcDEueCArIHAxLnkgKiBwMS55KTtcclxuZXhwb3J0cy5sZW5ndGggPSBsZW5ndGg7XHJcbmNvbnN0IG5vcm1hbGl6ZSA9IChwMSkgPT4gZXhwb3J0cy5zY2FsZShwMSwgMSAvIGV4cG9ydHMubGVuZ3RoKHAxKSk7XHJcbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xyXG5jb25zdCBsZXJwID0gKGEsIGIsIHQpID0+IGEgKiAoMSAtIHQpICsgYiAqIHQ7XHJcbmV4cG9ydHMubGVycCA9IGxlcnA7XHJcbmNvbnN0IGxlcnAyID0gKGEsIGIsIHQpID0+ICh7IHg6IGV4cG9ydHMubGVycChhLngsIGIueCwgdCksIHk6IGV4cG9ydHMubGVycChhLnksIGIueSwgdCkgfSk7XHJcbmV4cG9ydHMubGVycDIgPSBsZXJwMjtcclxuLy93YXJuaW5nOiBtdXRhdGVzIGFcclxuY29uc3QgdG9QcmVjaXNpb24yID0gKGEsIGFtb3VudCkgPT4ge1xyXG4gICAgYS54ID0gcGFyc2VGbG9hdChhLngudG9QcmVjaXNpb24oYW1vdW50KSk7XHJcbiAgICBhLnkgPSBwYXJzZUZsb2F0KGEueS50b1ByZWNpc2lvbihhbW91bnQpKTtcclxuICAgIHJldHVybiBhO1xyXG59O1xyXG5leHBvcnRzLnRvUHJlY2lzaW9uMiA9IHRvUHJlY2lzaW9uMjtcclxuY29uc3QgbWluMiA9IChvYmosIC4uLm9ianMpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICB4OiBvYmoueCxcclxuICAgICAgICB5OiBvYmoueVxyXG4gICAgfTtcclxuICAgIG9ianMuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LnggPSBNYXRoLm1pbihyZXN1bHQueCwgb2JqLngpO1xyXG4gICAgICAgIHJlc3VsdC55ID0gTWF0aC5taW4ocmVzdWx0LnksIG9iai55KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuZXhwb3J0cy5taW4yID0gbWluMjtcclxuY29uc3QgbWF4MiA9IChvYmosIC4uLm9ianMpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICB4OiBvYmoueCxcclxuICAgICAgICB5OiBvYmoueVxyXG4gICAgfTtcclxuICAgIG9ianMuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgICAgcmVzdWx0LnggPSBNYXRoLm1heChyZXN1bHQueCwgb2JqLngpO1xyXG4gICAgICAgIHJlc3VsdC55ID0gTWF0aC5tYXgocmVzdWx0LnksIG9iai55KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuZXhwb3J0cy5tYXgyID0gbWF4MjtcclxuY29uc3QgYXZnID0gKGFycikgPT4ge1xyXG4gICAgY29uc3Qgc3VtID0gYXJyLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgYWNjLnggKz0gaXRlbS54O1xyXG4gICAgICAgIGFjYy55ICs9IGl0ZW0ueTtcclxuICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwgeyB4OiAwLCB5OiAwIH0pO1xyXG4gICAgc3VtLnggLz0gYXJyLmxlbmd0aDtcclxuICAgIHN1bS55IC89IGFyci5sZW5ndGg7XHJcbiAgICByZXR1cm4gc3VtO1xyXG59O1xyXG5leHBvcnRzLmF2ZyA9IGF2ZztcclxuY29uc3QgaW5SYW5nZSA9IChwMSwgbWluLCBtYXgpID0+IHtcclxuICAgIHJldHVybiAhKHAxLnggPiBtYXgueCB8fCBwMS54IDwgbWluLnggfHwgcDEueSA+IG1heC55IHx8IHAxLnkgPCBtaW4ueSk7XHJcbn07XHJcbmV4cG9ydHMuaW5SYW5nZSA9IGluUmFuZ2U7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODc2KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=