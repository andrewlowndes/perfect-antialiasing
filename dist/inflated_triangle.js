"use strict";(self.webpackChunksubpixel_rendering=self.webpackChunksubpixel_rendering||[]).push([[600],{69:(e,t,a)=>{const n=a(887),c=a(669),o=a(713),r=document.getElementById("inflateAmount"),s=document.getElementById("game"),l=s.getContext("2d"),i=n.vec2.fromValues(217.00664,255.7669),p=n.vec2.fromValues(416.7078,255.76),v=n.vec2.fromValues(416.7078,455.4263),u={p1:i,p2:p,p3:v,e1:(0,c.sub)(p,i),e2:(0,c.sub)(v,p),e3:(0,c.sub)(i,v),points:[i,p,v]};u.center=(0,c.avg)(...u.points);let m=20;r.value=m.toString(),r.oninput=()=>{m=parseFloat(r.value)},s.onmousemove=function(e){const t=s.getBoundingClientRect(),a=n.vec2.fromValues(e.pageX-t.left-document.documentElement.scrollLeft,s.height-(e.pageY-t.top-document.documentElement.scrollTop));n.vec2.copy(u.p2,a)};const h=()=>{n.vec2.rotate(u.p1,u.p1,u.center,.01),u.center=(0,c.avg)(...u.points),u.e1=(0,c.sub)(u.p2,u.p1),u.e2=(0,c.sub)(u.p3,u.p2),u.e3=(0,c.sub)(u.p1,u.p3);const e=[[u.p1,u.p2,u.p3],[u.p2,u.p3,u.p1],[u.p3,u.p1,u.p2]].map((([e,t,a])=>{const n=(0,c.normalize)((0,c.sub)(e,t)),o=(0,c.normalize)((0,c.sub)(a,t)),r=(0,c.scale)((0,c.normalize)((0,c.add)(n,o)),-1),s=Math.sqrt((1-(0,c.dot)(n,o))/2);return(0,c.add)(t,(0,c.scale)(r,m/s))}));l.clearRect(0,0,s.width,s.height),l.strokeStyle="red",l.beginPath(),(0,o.polygonPath)(l,u.points),l.stroke(),l.strokeStyle="green",l.beginPath(),(0,o.polygonPath)(l,e),l.stroke();const t=(0,c.min2)(...u.points),a=(0,c.max2)(...u.points);l.strokeStyle="blue",l.strokeRect(t[0]-m,l.canvas.height-a[1]-m,a[0]-t[0]+2*m,a[1]-t[1]+2*m),l.strokeStyle="orange",l.beginPath(),l.arc(u.p1[0],l.canvas.height-u.p1[1],m,0,2*Math.PI),l.stroke(),l.beginPath(),l.arc(u.p2[0],l.canvas.height-u.p2[1],m,0,2*Math.PI),l.stroke(),l.beginPath(),l.arc(u.p3[0],l.canvas.height-u.p3[1],m,0,2*Math.PI),l.stroke(),requestAnimationFrame(h)};requestAnimationFrame(h)},345:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lerp=t.timeAtPos=t.clamp=t.fract=t.negFract=t.EPSILON=void 0,t.EPSILON=1e-6,t.negFract=e=>1-e+Math.floor(e),t.fract=e=>e-Math.floor(e),t.clamp=(e,t,a)=>Math.max(Math.min(e,a),t),t.timeAtPos=(e,a,n)=>a?(0,t.clamp)((n-e)/a,0,1):0,t.lerp=(e,t,a)=>e*(1-a)+t*a},669:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inside=t.inRange=t.avg=t.max2=t.min2=t.toPrecision2=t.lerp2=t.normalize=t.length=t.dot=t.sign=t.abs=t.ceil=t.floor=t.sub=t.adds=t.add=t.divide=t.multiply=t.scale=t.equals=t.determinant2=t.clamp2=void 0;const n=a(887),c=a(345);t.clamp2=(e,t,a)=>{const c=n.vec2.clone(e);return n.vec2.min(c,c,a),n.vec2.max(c,c,t),c},t.determinant2=(e,t)=>e[0]*t[1]-e[1]*t[0],t.equals=n.vec2.equals,t.scale=(e,t)=>n.vec2.scale(n.vec2.create(),e,t),t.multiply=(e,t)=>n.vec2.multiply(n.vec2.create(),e,t),t.divide=(e,t)=>n.vec2.divide(n.vec2.create(),e,t),t.add=(e,t)=>n.vec2.add(n.vec2.create(),e,t),t.adds=(e,t)=>n.vec2.fromValues(e[0]+t,e[1]+t),t.sub=(e,t)=>n.vec2.sub(n.vec2.create(),e,t),t.floor=e=>n.vec2.floor(n.vec2.create(),e),t.ceil=e=>n.vec2.ceil(n.vec2.create(),e),t.abs=e=>n.vec2.fromValues(Math.abs(e[0]),Math.abs(e[1])),t.sign=e=>n.vec2.fromValues(Math.sign(e[0]),Math.sign(e[1])),t.dot=(e,t)=>n.vec2.dot(e,t),t.length=e=>n.vec2.length(e),t.normalize=e=>(0,t.scale)(e,1/(0,t.length)(e)),t.lerp2=(e,t,a)=>n.vec2.lerp(n.vec2.create(),e,t,a),t.toPrecision2=(e,t)=>(e[0]=parseFloat(e[0].toPrecision(t)),e[1]=parseFloat(e[1].toPrecision(t)),e),t.min2=(...e)=>{const[t,...a]=e,c=n.vec2.clone(t);return a.forEach((e=>{n.vec2.min(c,c,e)})),c},t.max2=(...e)=>{const[t,...a]=e,c=n.vec2.clone(t);return a.forEach((e=>{n.vec2.max(c,c,e)})),c},t.avg=(...e)=>{const t=n.vec2.create();return e.length&&(e.forEach((e=>{n.vec2.add(t,t,e)})),n.vec2.scale(t,t,1/e.length)),t},t.inRange=(e,t,a)=>!(e[0]>a[0]||e[0]<t[0]||e[1]>a[1]||e[1]<t[1]),t.inside=(e,t)=>{let a=0,n=e[e.length-1];return e.forEach((e=>{const o=n[1]<e[1]?n:e,r=n[1]<e[1]?e:n;o[1]<t[1]+c.EPSILON&&r[1]>t[1]+c.EPSILON&&(r[0]-o[0])*(t[1]-o[1])>(t[0]-o[0])*(r[1]-o[1])&&(a+=1),n=e})),a%2!=0}},713:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.polygonPath=void 0,t.polygonPath=(e,t)=>{if(!t||!t.length)return;const a=t[0];e.moveTo(a[0],e.canvas.height-a[1]);for(let a=1;a<t.length;a++){const n=t[a];e.lineTo(n[0],e.canvas.height-n[1])}e.closePath()}}},e=>{e(e.s=69)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBR0EsRUFBSXhHLEVBQU8yRSxPQUFRNkIsSUFBSyxDQUNwQyxNQUFNN0UsRUFBUTNCLEVBQU93RyxHQUNyQnBILEVBQUVxSCxPQUFPOUUsRUFBTSxHQUFJdkMsRUFBRThELE9BQU9qQyxPQUFTVSxFQUFNLEdBQy9DLENBQ0F2QyxFQUFFc0gsV0FBVyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL2RlbW9zL2luZmxhdGVkVHJpYW5nbGUudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL21hdGhzL2NvbW1vbi50cyIsIndlYnBhY2s6Ly9zdWJwaXhlbC1yZW5kZXJpbmcvLi9zcmMvbWF0aHMvcG9pbnQudHMiLCJ3ZWJwYWNrOi8vc3VicGl4ZWwtcmVuZGVyaW5nLy4vc3JjL3JlbmRlci9wb2x5Z29uUGF0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGdsX21hdHJpeF8xID0gcmVxdWlyZShcImdsLW1hdHJpeFwiKTtcbmNvbnN0IHBvaW50XzEgPSByZXF1aXJlKFwiLi4vbWF0aHMvcG9pbnRcIik7XG5jb25zdCBwb2x5Z29uUGF0aF8xID0gcmVxdWlyZShcIi4uL3JlbmRlci9wb2x5Z29uUGF0aFwiKTtcbmNvbnN0IGluZmxhdGVBbW91bnREb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mbGF0ZUFtb3VudCcpO1xuY29uc3QgZ2FtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XG5jb25zdCBnID0gZ2FtZS5nZXRDb250ZXh0KCcyZCcpO1xuY29uc3QgcDEgPSBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoMjE3LjAwNjY0LCAyNTUuNzY2OSk7XG5jb25zdCBwMiA9IGdsX21hdHJpeF8xLnZlYzIuZnJvbVZhbHVlcyg0MTYuNzA3OCwgMjU1Ljc2KTtcbmNvbnN0IHAzID0gZ2xfbWF0cml4XzEudmVjMi5mcm9tVmFsdWVzKDQxNi43MDc4LCA0NTUuNDI2Myk7XG5jb25zdCB0cmlhbmdsZSA9IHtcbiAgICBwMSxcbiAgICBwMixcbiAgICBwMyxcbiAgICBlMTogKDAsIHBvaW50XzEuc3ViKShwMiwgcDEpLFxuICAgIGUyOiAoMCwgcG9pbnRfMS5zdWIpKHAzLCBwMiksXG4gICAgZTM6ICgwLCBwb2ludF8xLnN1YikocDEsIHAzKSxcbiAgICBwb2ludHM6IFtwMSwgcDIsIHAzXVxufTtcbnRyaWFuZ2xlLmNlbnRlciA9ICgwLCBwb2ludF8xLmF2ZykoLi4udHJpYW5nbGUucG9pbnRzKTtcbmxldCBpbmZsYXRlQW1vdW50ID0gMjA7XG5pbmZsYXRlQW1vdW50RG9tLnZhbHVlID0gaW5mbGF0ZUFtb3VudC50b1N0cmluZygpO1xuaW5mbGF0ZUFtb3VudERvbS5vbmlucHV0ID0gKCkgPT4ge1xuICAgIGluZmxhdGVBbW91bnQgPSBwYXJzZUZsb2F0KGluZmxhdGVBbW91bnREb20udmFsdWUpO1xufTtcbmdhbWUub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnN0IGJvdW5kcyA9IGdhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgbW91c2VQb3MgPSBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoZS5wYWdlWCAtIGJvdW5kcy5sZWZ0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIGdhbWUuaGVpZ2h0IC0gKGUucGFnZVkgLSBib3VuZHMudG9wIC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkpO1xuICAgIGdsX21hdHJpeF8xLnZlYzIuY29weSh0cmlhbmdsZS5wMiwgbW91c2VQb3MpO1xufTtcbmNvbnN0IHJvdGF0ZUFtb3VudCA9IDAuMDE7XG5jb25zdCBkcmF3ID0gKCkgPT4ge1xuICAgIGdsX21hdHJpeF8xLnZlYzIucm90YXRlKHRyaWFuZ2xlLnAxLCB0cmlhbmdsZS5wMSwgdHJpYW5nbGUuY2VudGVyLCByb3RhdGVBbW91bnQpO1xuICAgIHRyaWFuZ2xlLmNlbnRlciA9ICgwLCBwb2ludF8xLmF2ZykoLi4udHJpYW5nbGUucG9pbnRzKTtcbiAgICB0cmlhbmdsZS5lMSA9ICgwLCBwb2ludF8xLnN1YikodHJpYW5nbGUucDIsIHRyaWFuZ2xlLnAxKTtcbiAgICB0cmlhbmdsZS5lMiA9ICgwLCBwb2ludF8xLnN1YikodHJpYW5nbGUucDMsIHRyaWFuZ2xlLnAyKTtcbiAgICB0cmlhbmdsZS5lMyA9ICgwLCBwb2ludF8xLnN1YikodHJpYW5nbGUucDEsIHRyaWFuZ2xlLnAzKTtcbiAgICAvL2luZmxhdGUgZWFjaCB0cmlhbmdsZSB2ZXJ0ZXggYnkgYW4gYW1vdW50XG4gICAgY29uc3QgaW5mbGF0ZWRQb2ludHMgPSBbXG4gICAgICAgIFt0cmlhbmdsZS5wMSwgdHJpYW5nbGUucDIsIHRyaWFuZ2xlLnAzXSxcbiAgICAgICAgW3RyaWFuZ2xlLnAyLCB0cmlhbmdsZS5wMywgdHJpYW5nbGUucDFdLFxuICAgICAgICBbdHJpYW5nbGUucDMsIHRyaWFuZ2xlLnAxLCB0cmlhbmdsZS5wMl1cbiAgICBdLm1hcCgoW3ByZXZQb2ludCwgcG9pbnQsIG5leHRQb2ludF0pID0+IHtcbiAgICAgICAgY29uc3QgYSA9ICgwLCBwb2ludF8xLm5vcm1hbGl6ZSkoKDAsIHBvaW50XzEuc3ViKShwcmV2UG9pbnQsIHBvaW50KSk7XG4gICAgICAgIGNvbnN0IGIgPSAoMCwgcG9pbnRfMS5ub3JtYWxpemUpKCgwLCBwb2ludF8xLnN1YikobmV4dFBvaW50LCBwb2ludCkpO1xuICAgICAgICBjb25zdCBub3JtYWwgPSAoMCwgcG9pbnRfMS5zY2FsZSkoKDAsIHBvaW50XzEubm9ybWFsaXplKSgoMCwgcG9pbnRfMS5hZGQpKGEsIGIpKSwgLTEpO1xuICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguc3FydCgoMS4wIC0gKDAsIHBvaW50XzEuZG90KShhLCBiKSkgLyAyLjApO1xuICAgICAgICByZXR1cm4gKDAsIHBvaW50XzEuYWRkKShwb2ludCwgKDAsIHBvaW50XzEuc2NhbGUpKG5vcm1hbCwgaW5mbGF0ZUFtb3VudCAvIGFuZ2xlKSk7XG4gICAgfSk7XG4gICAgZy5jbGVhclJlY3QoMCwgMCwgZ2FtZS53aWR0aCwgZ2FtZS5oZWlnaHQpO1xuICAgIC8vZHJhdyB0aGUgb3JpZ2luYWwgdHJpYW5nbGVcbiAgICBnLnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgZy5iZWdpblBhdGgoKTtcbiAgICAoMCwgcG9seWdvblBhdGhfMS5wb2x5Z29uUGF0aCkoZywgdHJpYW5nbGUucG9pbnRzKTtcbiAgICBnLnN0cm9rZSgpO1xuICAgIC8vZHJhdyBvdXIgaW5mbGF0ZWQgdHJpYW5nbGVcbiAgICBnLnN0cm9rZVN0eWxlID0gJ2dyZWVuJztcbiAgICBnLmJlZ2luUGF0aCgpO1xuICAgICgwLCBwb2x5Z29uUGF0aF8xLnBvbHlnb25QYXRoKShnLCBpbmZsYXRlZFBvaW50cyk7XG4gICAgZy5zdHJva2UoKTtcbiAgICAvL2RyYXcgYSBib3VuZGluZyBib3ggcm91bmQgdGhlIG5ldyBzaGFwZVxuICAgIGNvbnN0IG1pblBvcyA9ICgwLCBwb2ludF8xLm1pbjIpKC4uLnRyaWFuZ2xlLnBvaW50cyk7XG4gICAgY29uc3QgbWF4UG9zID0gKDAsIHBvaW50XzEubWF4MikoLi4udHJpYW5nbGUucG9pbnRzKTtcbiAgICBnLnN0cm9rZVN0eWxlID0gJ2JsdWUnO1xuICAgIGcuc3Ryb2tlUmVjdChtaW5Qb3NbMF0gLSBpbmZsYXRlQW1vdW50LCBnLmNhbnZhcy5oZWlnaHQgLSBtYXhQb3NbMV0gLSBpbmZsYXRlQW1vdW50LCBtYXhQb3NbMF0gLSBtaW5Qb3NbMF0gKyBpbmZsYXRlQW1vdW50ICogMiwgbWF4UG9zWzFdIC0gbWluUG9zWzFdICsgaW5mbGF0ZUFtb3VudCAqIDIpO1xuICAgIC8vZHJhdyBzb21lIGJhbGxzIG9uIHRoZSB2ZXJ0aWNlcyBmb3IgdmVyaWZpY2F0aW9uXG4gICAgZy5zdHJva2VTdHlsZSA9ICdvcmFuZ2UnO1xuICAgIGcuYmVnaW5QYXRoKCk7XG4gICAgZy5hcmModHJpYW5nbGUucDFbMF0sIGcuY2FudmFzLmhlaWdodCAtIHRyaWFuZ2xlLnAxWzFdLCBpbmZsYXRlQW1vdW50LCAwLCBNYXRoLlBJICogMik7XG4gICAgZy5zdHJva2UoKTtcbiAgICBnLmJlZ2luUGF0aCgpO1xuICAgIGcuYXJjKHRyaWFuZ2xlLnAyWzBdLCBnLmNhbnZhcy5oZWlnaHQgLSB0cmlhbmdsZS5wMlsxXSwgaW5mbGF0ZUFtb3VudCwgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGcuc3Ryb2tlKCk7XG4gICAgZy5iZWdpblBhdGgoKTtcbiAgICBnLmFyYyh0cmlhbmdsZS5wM1swXSwgZy5jYW52YXMuaGVpZ2h0IC0gdHJpYW5nbGUucDNbMV0sIGluZmxhdGVBbW91bnQsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBnLnN0cm9rZSgpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbn07XG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubGVycCA9IGV4cG9ydHMudGltZUF0UG9zID0gZXhwb3J0cy5jbGFtcCA9IGV4cG9ydHMuZnJhY3QgPSBleHBvcnRzLm5lZ0ZyYWN0ID0gZXhwb3J0cy5FUFNJTE9OID0gdm9pZCAwO1xuZXhwb3J0cy5FUFNJTE9OID0gMC4wMDAwMDE7XG5jb25zdCBuZWdGcmFjdCA9ICh4KSA9PiAxLjAgLSB4ICsgTWF0aC5mbG9vcih4KTtcbmV4cG9ydHMubmVnRnJhY3QgPSBuZWdGcmFjdDtcbmNvbnN0IGZyYWN0ID0gKHgpID0+IHggLSBNYXRoLmZsb29yKHgpO1xuZXhwb3J0cy5mcmFjdCA9IGZyYWN0O1xuY29uc3QgY2xhbXAgPSAoYSwgbWluLCBtYXgpID0+IE1hdGgubWF4KE1hdGgubWluKGEsIG1heCksIG1pbik7XG5leHBvcnRzLmNsYW1wID0gY2xhbXA7XG5jb25zdCB0aW1lQXRQb3MgPSAoc3RhcnRQb3MsIGRpciwgbmV3UG9zKSA9PiBkaXIgPyAoMCwgZXhwb3J0cy5jbGFtcCkoKG5ld1BvcyAtIHN0YXJ0UG9zKSAvIGRpciwgMCwgMSkgOiAwO1xuZXhwb3J0cy50aW1lQXRQb3MgPSB0aW1lQXRQb3M7XG5jb25zdCBsZXJwID0gKGEsIGIsIHQpID0+IGEgKiAoMSAtIHQpICsgYiAqIHQ7XG5leHBvcnRzLmxlcnAgPSBsZXJwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmluc2lkZSA9IGV4cG9ydHMuaW5SYW5nZSA9IGV4cG9ydHMuYXZnID0gZXhwb3J0cy5tYXgyID0gZXhwb3J0cy5taW4yID0gZXhwb3J0cy50b1ByZWNpc2lvbjIgPSBleHBvcnRzLmxlcnAyID0gZXhwb3J0cy5ub3JtYWxpemUgPSBleHBvcnRzLmxlbmd0aCA9IGV4cG9ydHMuZG90ID0gZXhwb3J0cy5zaWduID0gZXhwb3J0cy5hYnMgPSBleHBvcnRzLmNlaWwgPSBleHBvcnRzLmZsb29yID0gZXhwb3J0cy5zdWIgPSBleHBvcnRzLmFkZHMgPSBleHBvcnRzLmFkZCA9IGV4cG9ydHMuZGl2aWRlID0gZXhwb3J0cy5tdWx0aXBseSA9IGV4cG9ydHMuc2NhbGUgPSBleHBvcnRzLmVxdWFscyA9IGV4cG9ydHMuZGV0ZXJtaW5hbnQyID0gZXhwb3J0cy5jbGFtcDIgPSB2b2lkIDA7XG5jb25zdCBnbF9tYXRyaXhfMSA9IHJlcXVpcmUoXCJnbC1tYXRyaXhcIik7XG5jb25zdCBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbmNvbnN0IGNsYW1wMiA9IChhLCBtaW4sIG1heCkgPT4ge1xuICAgIGNvbnN0IG91dCA9IGdsX21hdHJpeF8xLnZlYzIuY2xvbmUoYSk7XG4gICAgZ2xfbWF0cml4XzEudmVjMi5taW4ob3V0LCBvdXQsIG1heCk7XG4gICAgZ2xfbWF0cml4XzEudmVjMi5tYXgob3V0LCBvdXQsIG1pbik7XG4gICAgcmV0dXJuIG91dDtcbn07XG5leHBvcnRzLmNsYW1wMiA9IGNsYW1wMjtcbmNvbnN0IGRldGVybWluYW50MiA9IChwMSwgcDIpID0+IHAxWzBdICogcDJbMV0gLSBwMVsxXSAqIHAyWzBdO1xuZXhwb3J0cy5kZXRlcm1pbmFudDIgPSBkZXRlcm1pbmFudDI7XG5leHBvcnRzLmVxdWFscyA9IGdsX21hdHJpeF8xLnZlYzIuZXF1YWxzO1xuY29uc3Qgc2NhbGUgPSAocDEsIGEpID0+IGdsX21hdHJpeF8xLnZlYzIuc2NhbGUoZ2xfbWF0cml4XzEudmVjMi5jcmVhdGUoKSwgcDEsIGEpO1xuZXhwb3J0cy5zY2FsZSA9IHNjYWxlO1xuY29uc3QgbXVsdGlwbHkgPSAocDEsIHAyKSA9PiBnbF9tYXRyaXhfMS52ZWMyLm11bHRpcGx5KGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCksIHAxLCBwMik7XG5leHBvcnRzLm11bHRpcGx5ID0gbXVsdGlwbHk7XG5jb25zdCBkaXZpZGUgPSAocDEsIHAyKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmRpdmlkZShnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpLCBwMSwgcDIpO1xuZXhwb3J0cy5kaXZpZGUgPSBkaXZpZGU7XG5jb25zdCBhZGQgPSAocDEsIHAyKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmFkZChnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpLCBwMSwgcDIpO1xuZXhwb3J0cy5hZGQgPSBhZGQ7XG5jb25zdCBhZGRzID0gKHAxLCBhKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMocDFbMF0gKyBhLCBwMVsxXSArIGEpO1xuZXhwb3J0cy5hZGRzID0gYWRkcztcbmNvbnN0IHN1YiA9IChwMSwgcDIpID0+IGdsX21hdHJpeF8xLnZlYzIuc3ViKGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCksIHAxLCBwMik7XG5leHBvcnRzLnN1YiA9IHN1YjtcbmNvbnN0IGZsb29yID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZsb29yKGdsX21hdHJpeF8xLnZlYzIuY3JlYXRlKCksIHAxKTtcbmV4cG9ydHMuZmxvb3IgPSBmbG9vcjtcbmNvbnN0IGNlaWwgPSAocDEpID0+IGdsX21hdHJpeF8xLnZlYzIuY2VpbChnbF9tYXRyaXhfMS52ZWMyLmNyZWF0ZSgpLCBwMSk7XG5leHBvcnRzLmNlaWwgPSBjZWlsO1xuY29uc3QgYWJzID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoTWF0aC5hYnMocDFbMF0pLCBNYXRoLmFicyhwMVsxXSkpO1xuZXhwb3J0cy5hYnMgPSBhYnM7XG5jb25zdCBzaWduID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmZyb21WYWx1ZXMoTWF0aC5zaWduKHAxWzBdKSwgTWF0aC5zaWduKHAxWzFdKSk7XG5leHBvcnRzLnNpZ24gPSBzaWduO1xuY29uc3QgZG90ID0gKHAxLCBwMikgPT4gZ2xfbWF0cml4XzEudmVjMi5kb3QocDEsIHAyKTtcbmV4cG9ydHMuZG90ID0gZG90O1xuY29uc3QgbGVuZ3RoID0gKHAxKSA9PiBnbF9tYXRyaXhfMS52ZWMyLmxlbmd0aChwMSk7XG5leHBvcnRzLmxlbmd0aCA9IGxlbmd0aDtcbmNvbnN0IG5vcm1hbGl6ZSA9IChwMSkgPT4gKDAsIGV4cG9ydHMuc2NhbGUpKHAxLCAxIC8gKDAsIGV4cG9ydHMubGVuZ3RoKShwMSkpO1xuZXhwb3J0cy5ub3JtYWxpemUgPSBub3JtYWxpemU7XG5jb25zdCBsZXJwMiA9IChhLCBiLCB0KSA9PiBnbF9tYXRyaXhfMS52ZWMyLmxlcnAoZ2xfbWF0cml4XzEudmVjMi5jcmVhdGUoKSwgYSwgYiwgdCk7XG5leHBvcnRzLmxlcnAyID0gbGVycDI7XG4vL3dhcm5pbmc6IG11dGF0ZXMgYVxuY29uc3QgdG9QcmVjaXNpb24yID0gKGEsIGFtb3VudCkgPT4ge1xuICAgIGFbMF0gPSBwYXJzZUZsb2F0KGFbMF0udG9QcmVjaXNpb24oYW1vdW50KSk7XG4gICAgYVsxXSA9IHBhcnNlRmxvYXQoYVsxXS50b1ByZWNpc2lvbihhbW91bnQpKTtcbiAgICByZXR1cm4gYTtcbn07XG5leHBvcnRzLnRvUHJlY2lzaW9uMiA9IHRvUHJlY2lzaW9uMjtcbmNvbnN0IG1pbjIgPSAoLi4ub2JqcykgPT4ge1xuICAgIGNvbnN0IFtmaXJzdCwgLi4ucmVzdF0gPSBvYmpzO1xuICAgIGNvbnN0IHJlc3VsdCA9IGdsX21hdHJpeF8xLnZlYzIuY2xvbmUoZmlyc3QpO1xuICAgIHJlc3QuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgIGdsX21hdHJpeF8xLnZlYzIubWluKHJlc3VsdCwgcmVzdWx0LCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0cy5taW4yID0gbWluMjtcbmNvbnN0IG1heDIgPSAoLi4ub2JqcykgPT4ge1xuICAgIGNvbnN0IFtmaXJzdCwgLi4ucmVzdF0gPSBvYmpzO1xuICAgIGNvbnN0IHJlc3VsdCA9IGdsX21hdHJpeF8xLnZlYzIuY2xvbmUoZmlyc3QpO1xuICAgIHJlc3QuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICAgIGdsX21hdHJpeF8xLnZlYzIubWF4KHJlc3VsdCwgcmVzdWx0LCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuZXhwb3J0cy5tYXgyID0gbWF4MjtcbmNvbnN0IGF2ZyA9ICguLi5vYmpzKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2xfbWF0cml4XzEudmVjMi5jcmVhdGUoKTtcbiAgICBpZiAob2Jqcy5sZW5ndGgpIHtcbiAgICAgICAgb2Jqcy5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICAgIGdsX21hdHJpeF8xLnZlYzIuYWRkKHJlc3VsdCwgcmVzdWx0LCBvYmopO1xuICAgICAgICB9KTtcbiAgICAgICAgZ2xfbWF0cml4XzEudmVjMi5zY2FsZShyZXN1bHQsIHJlc3VsdCwgMSAvIG9ianMubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5leHBvcnRzLmF2ZyA9IGF2ZztcbmNvbnN0IGluUmFuZ2UgPSAocDEsIG1pbiwgbWF4KSA9PiB7XG4gICAgcmV0dXJuICEocDFbMF0gPiBtYXhbMF0gfHwgcDFbMF0gPCBtaW5bMF0gfHwgcDFbMV0gPiBtYXhbMV0gfHwgcDFbMV0gPCBtaW5bMV0pO1xufTtcbmV4cG9ydHMuaW5SYW5nZSA9IGluUmFuZ2U7XG5jb25zdCBpbnNpZGUgPSAocG9pbnRzLCBwKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgY3VyID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcbiAgICBwb2ludHMuZm9yRWFjaCgobmV4dCkgPT4ge1xuICAgICAgICBjb25zdCBwMCA9IGN1clsxXSA8IG5leHRbMV0gPyBjdXIgOiBuZXh0O1xuICAgICAgICBjb25zdCBwMSA9IGN1clsxXSA8IG5leHRbMV0gPyBuZXh0IDogY3VyO1xuICAgICAgICBpZiAocDBbMV0gPCBwWzFdICsgY29tbW9uXzEuRVBTSUxPTiAmJiBwMVsxXSA+IHBbMV0gKyBjb21tb25fMS5FUFNJTE9OKSB7XG4gICAgICAgICAgICBpZiAoKHAxWzBdIC0gcDBbMF0pICogKHBbMV0gLSBwMFsxXSkgPiAocFswXSAtIHAwWzBdKSAqIChwMVsxXSAtIHAwWzFdKSkge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VyID0gbmV4dDtcbiAgICB9KTtcbiAgICByZXR1cm4gY291bnQgJSAyICE9PSAwO1xufTtcbmV4cG9ydHMuaW5zaWRlID0gaW5zaWRlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBvbHlnb25QYXRoID0gdm9pZCAwO1xuY29uc3QgcG9seWdvblBhdGggPSAoZywgcG9pbnRzKSA9PiB7XG4gICAgaWYgKCFwb2ludHMgfHwgIXBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgIGcubW92ZVRvKGZpcnN0UG9pbnRbMF0sIGcuY2FudmFzLmhlaWdodCAtIGZpcnN0UG9pbnRbMV0pO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICBnLmxpbmVUbyhwb2ludFswXSwgZy5jYW52YXMuaGVpZ2h0IC0gcG9pbnRbMV0pO1xuICAgIH1cbiAgICBnLmNsb3NlUGF0aCgpO1xufTtcbmV4cG9ydHMucG9seWdvblBhdGggPSBwb2x5Z29uUGF0aDtcbiJdLCJuYW1lcyI6WyJnbF9tYXRyaXhfMSIsInBvaW50XzEiLCJwb2x5Z29uUGF0aF8xIiwiaW5mbGF0ZUFtb3VudERvbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnYW1lIiwiZyIsImdldENvbnRleHQiLCJwMSIsInZlYzIiLCJmcm9tVmFsdWVzIiwicDIiLCJwMyIsInRyaWFuZ2xlIiwiZTEiLCJzdWIiLCJlMiIsImUzIiwicG9pbnRzIiwiY2VudGVyIiwiYXZnIiwiaW5mbGF0ZUFtb3VudCIsInZhbHVlIiwidG9TdHJpbmciLCJvbmlucHV0IiwicGFyc2VGbG9hdCIsIm9ubW91c2Vtb3ZlIiwiZSIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1vdXNlUG9zIiwicGFnZVgiLCJsZWZ0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsTGVmdCIsImhlaWdodCIsInBhZ2VZIiwidG9wIiwic2Nyb2xsVG9wIiwiY29weSIsImRyYXciLCJyb3RhdGUiLCJpbmZsYXRlZFBvaW50cyIsIm1hcCIsInByZXZQb2ludCIsInBvaW50IiwibmV4dFBvaW50IiwiYSIsIm5vcm1hbGl6ZSIsImIiLCJub3JtYWwiLCJzY2FsZSIsImFkZCIsImFuZ2xlIiwiTWF0aCIsInNxcnQiLCJkb3QiLCJjbGVhclJlY3QiLCJ3aWR0aCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwicG9seWdvblBhdGgiLCJzdHJva2UiLCJtaW5Qb3MiLCJtaW4yIiwibWF4UG9zIiwibWF4MiIsInN0cm9rZVJlY3QiLCJjYW52YXMiLCJhcmMiLCJQSSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsImxlcnAiLCJ0aW1lQXRQb3MiLCJjbGFtcCIsImZyYWN0IiwibmVnRnJhY3QiLCJFUFNJTE9OIiwieCIsImZsb29yIiwibWluIiwibWF4Iiwic3RhcnRQb3MiLCJkaXIiLCJuZXdQb3MiLCJ0IiwiaW5zaWRlIiwiaW5SYW5nZSIsInRvUHJlY2lzaW9uMiIsImxlcnAyIiwibGVuZ3RoIiwic2lnbiIsImFicyIsImNlaWwiLCJhZGRzIiwiZGl2aWRlIiwibXVsdGlwbHkiLCJlcXVhbHMiLCJkZXRlcm1pbmFudDIiLCJjbGFtcDIiLCJjb21tb25fMSIsIm91dCIsImNsb25lIiwiY3JlYXRlIiwiYW1vdW50IiwidG9QcmVjaXNpb24iLCJvYmpzIiwiZmlyc3QiLCJyZXN0IiwicmVzdWx0IiwiZm9yRWFjaCIsIm9iaiIsInAiLCJjb3VudCIsImN1ciIsIm5leHQiLCJwMCIsImZpcnN0UG9pbnQiLCJtb3ZlVG8iLCJpIiwibGluZVRvIiwiY2xvc2VQYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==